<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. 一、开始 | Coding-everyday</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="Coding-everyday">
    
    <link rel="preload" href="/coding-everyday/assets/css/0.styles.a7a63719.css" as="style"><link rel="preload" href="/coding-everyday/assets/js/app.bc494c39.js" as="script"><link rel="preload" href="/coding-everyday/assets/js/2.a8a94c78.js" as="script"><link rel="preload" href="/coding-everyday/assets/js/424.995f3680.js" as="script"><link rel="prefetch" href="/coding-everyday/assets/js/10.50b6a56a.js"><link rel="prefetch" href="/coding-everyday/assets/js/100.52f86744.js"><link rel="prefetch" href="/coding-everyday/assets/js/101.e0b3627c.js"><link rel="prefetch" href="/coding-everyday/assets/js/102.8701ba64.js"><link rel="prefetch" href="/coding-everyday/assets/js/103.5ab4fe3a.js"><link rel="prefetch" href="/coding-everyday/assets/js/104.d26abe2b.js"><link rel="prefetch" href="/coding-everyday/assets/js/105.4ba590b5.js"><link rel="prefetch" href="/coding-everyday/assets/js/106.53d66d31.js"><link rel="prefetch" href="/coding-everyday/assets/js/107.ff8f94d7.js"><link rel="prefetch" href="/coding-everyday/assets/js/108.5581ccc2.js"><link rel="prefetch" href="/coding-everyday/assets/js/109.487136d9.js"><link rel="prefetch" href="/coding-everyday/assets/js/11.e8b2db9f.js"><link rel="prefetch" href="/coding-everyday/assets/js/110.60dd077b.js"><link rel="prefetch" href="/coding-everyday/assets/js/111.b9a28bb1.js"><link rel="prefetch" href="/coding-everyday/assets/js/112.486b25b1.js"><link rel="prefetch" href="/coding-everyday/assets/js/113.473230fe.js"><link rel="prefetch" href="/coding-everyday/assets/js/114.0ab96130.js"><link rel="prefetch" href="/coding-everyday/assets/js/115.b6c2a3b3.js"><link rel="prefetch" href="/coding-everyday/assets/js/116.f25b8cf8.js"><link rel="prefetch" href="/coding-everyday/assets/js/117.5062b92d.js"><link rel="prefetch" href="/coding-everyday/assets/js/118.d26202fb.js"><link rel="prefetch" href="/coding-everyday/assets/js/119.8b97fff6.js"><link rel="prefetch" href="/coding-everyday/assets/js/12.1ddb734b.js"><link rel="prefetch" href="/coding-everyday/assets/js/120.2c9072e3.js"><link rel="prefetch" href="/coding-everyday/assets/js/121.820306b2.js"><link rel="prefetch" href="/coding-everyday/assets/js/122.ca399fb7.js"><link rel="prefetch" href="/coding-everyday/assets/js/123.30564556.js"><link rel="prefetch" href="/coding-everyday/assets/js/124.0387325f.js"><link rel="prefetch" href="/coding-everyday/assets/js/125.8815ca1b.js"><link rel="prefetch" href="/coding-everyday/assets/js/126.9a9c3035.js"><link rel="prefetch" href="/coding-everyday/assets/js/127.e119bdd2.js"><link rel="prefetch" href="/coding-everyday/assets/js/128.8a8e7f24.js"><link rel="prefetch" href="/coding-everyday/assets/js/129.f81ee5ce.js"><link rel="prefetch" href="/coding-everyday/assets/js/13.61525fde.js"><link rel="prefetch" href="/coding-everyday/assets/js/130.ef8f5777.js"><link rel="prefetch" href="/coding-everyday/assets/js/131.1ddbbbf1.js"><link rel="prefetch" href="/coding-everyday/assets/js/132.a6e107d4.js"><link rel="prefetch" href="/coding-everyday/assets/js/133.8064bfda.js"><link rel="prefetch" href="/coding-everyday/assets/js/134.209f3580.js"><link rel="prefetch" href="/coding-everyday/assets/js/135.305308fc.js"><link rel="prefetch" href="/coding-everyday/assets/js/136.a7fb0cfc.js"><link rel="prefetch" href="/coding-everyday/assets/js/137.36803129.js"><link rel="prefetch" href="/coding-everyday/assets/js/138.75f2cd25.js"><link rel="prefetch" href="/coding-everyday/assets/js/139.fc674e4b.js"><link rel="prefetch" href="/coding-everyday/assets/js/14.3998ec22.js"><link rel="prefetch" href="/coding-everyday/assets/js/140.a614642e.js"><link rel="prefetch" href="/coding-everyday/assets/js/141.ee4d33ae.js"><link rel="prefetch" href="/coding-everyday/assets/js/142.a5486cfd.js"><link rel="prefetch" href="/coding-everyday/assets/js/143.72909239.js"><link rel="prefetch" href="/coding-everyday/assets/js/144.f53907ef.js"><link rel="prefetch" href="/coding-everyday/assets/js/145.f3bc2fd9.js"><link rel="prefetch" href="/coding-everyday/assets/js/146.50de12bf.js"><link rel="prefetch" href="/coding-everyday/assets/js/147.75e352fa.js"><link rel="prefetch" href="/coding-everyday/assets/js/148.31df26ec.js"><link rel="prefetch" href="/coding-everyday/assets/js/149.1bf9f2a9.js"><link rel="prefetch" href="/coding-everyday/assets/js/15.ee78e096.js"><link rel="prefetch" href="/coding-everyday/assets/js/150.3942cacf.js"><link rel="prefetch" href="/coding-everyday/assets/js/151.432b45b5.js"><link rel="prefetch" href="/coding-everyday/assets/js/152.16b287b6.js"><link rel="prefetch" href="/coding-everyday/assets/js/153.da681b76.js"><link rel="prefetch" href="/coding-everyday/assets/js/154.cfffa716.js"><link rel="prefetch" href="/coding-everyday/assets/js/155.5f028be2.js"><link rel="prefetch" href="/coding-everyday/assets/js/156.76f7ab80.js"><link rel="prefetch" href="/coding-everyday/assets/js/157.3c47dd0c.js"><link rel="prefetch" href="/coding-everyday/assets/js/158.c0dd81e9.js"><link rel="prefetch" href="/coding-everyday/assets/js/159.a42f7b49.js"><link rel="prefetch" href="/coding-everyday/assets/js/16.d3423eba.js"><link rel="prefetch" href="/coding-everyday/assets/js/160.28fa70f6.js"><link rel="prefetch" href="/coding-everyday/assets/js/161.a573033e.js"><link rel="prefetch" href="/coding-everyday/assets/js/162.6d7d5b5d.js"><link rel="prefetch" href="/coding-everyday/assets/js/163.8e19e5e9.js"><link rel="prefetch" href="/coding-everyday/assets/js/164.b814637c.js"><link rel="prefetch" href="/coding-everyday/assets/js/165.9ab82efe.js"><link rel="prefetch" href="/coding-everyday/assets/js/166.25473da3.js"><link rel="prefetch" href="/coding-everyday/assets/js/167.8a3d9c71.js"><link rel="prefetch" href="/coding-everyday/assets/js/168.63746ef1.js"><link rel="prefetch" href="/coding-everyday/assets/js/169.2629fc13.js"><link rel="prefetch" href="/coding-everyday/assets/js/17.7d8db447.js"><link rel="prefetch" href="/coding-everyday/assets/js/170.c8ca6ffc.js"><link rel="prefetch" href="/coding-everyday/assets/js/171.556f6ba7.js"><link rel="prefetch" href="/coding-everyday/assets/js/172.ee20c49d.js"><link rel="prefetch" href="/coding-everyday/assets/js/173.4cf3ae75.js"><link rel="prefetch" href="/coding-everyday/assets/js/174.f795c8e9.js"><link rel="prefetch" href="/coding-everyday/assets/js/175.7d19684f.js"><link rel="prefetch" href="/coding-everyday/assets/js/176.2a222d5d.js"><link rel="prefetch" href="/coding-everyday/assets/js/177.be84f7bb.js"><link rel="prefetch" href="/coding-everyday/assets/js/178.66984eae.js"><link rel="prefetch" href="/coding-everyday/assets/js/179.6f54b448.js"><link rel="prefetch" href="/coding-everyday/assets/js/18.8d6c11d4.js"><link rel="prefetch" href="/coding-everyday/assets/js/180.d4b28152.js"><link rel="prefetch" href="/coding-everyday/assets/js/181.8eb0f321.js"><link rel="prefetch" href="/coding-everyday/assets/js/182.cc7caf32.js"><link rel="prefetch" href="/coding-everyday/assets/js/183.bdf8dd48.js"><link rel="prefetch" href="/coding-everyday/assets/js/184.d0bd7b08.js"><link rel="prefetch" href="/coding-everyday/assets/js/185.f02417c7.js"><link rel="prefetch" href="/coding-everyday/assets/js/186.e63f252a.js"><link rel="prefetch" href="/coding-everyday/assets/js/187.4aeb5c80.js"><link rel="prefetch" href="/coding-everyday/assets/js/188.23d3d8c1.js"><link rel="prefetch" href="/coding-everyday/assets/js/189.f5fbd039.js"><link rel="prefetch" href="/coding-everyday/assets/js/19.dedc09f4.js"><link rel="prefetch" href="/coding-everyday/assets/js/190.8f561c4c.js"><link rel="prefetch" href="/coding-everyday/assets/js/191.72ff738f.js"><link rel="prefetch" href="/coding-everyday/assets/js/192.4a168e9d.js"><link rel="prefetch" href="/coding-everyday/assets/js/193.961e1552.js"><link rel="prefetch" href="/coding-everyday/assets/js/194.61e62599.js"><link rel="prefetch" href="/coding-everyday/assets/js/195.4f781d88.js"><link rel="prefetch" href="/coding-everyday/assets/js/196.d08d2033.js"><link rel="prefetch" href="/coding-everyday/assets/js/197.b8fde80e.js"><link rel="prefetch" href="/coding-everyday/assets/js/198.a3fe8749.js"><link rel="prefetch" href="/coding-everyday/assets/js/199.f8f7aef1.js"><link rel="prefetch" href="/coding-everyday/assets/js/20.02af2aac.js"><link rel="prefetch" href="/coding-everyday/assets/js/200.96e1a317.js"><link rel="prefetch" href="/coding-everyday/assets/js/201.95215b28.js"><link rel="prefetch" href="/coding-everyday/assets/js/202.575426d4.js"><link rel="prefetch" href="/coding-everyday/assets/js/203.31019993.js"><link rel="prefetch" href="/coding-everyday/assets/js/204.e9369c63.js"><link rel="prefetch" href="/coding-everyday/assets/js/205.d1c91cbb.js"><link rel="prefetch" href="/coding-everyday/assets/js/206.24564ae2.js"><link rel="prefetch" href="/coding-everyday/assets/js/207.ba98855e.js"><link rel="prefetch" href="/coding-everyday/assets/js/208.f55a32ce.js"><link rel="prefetch" href="/coding-everyday/assets/js/209.3412a128.js"><link rel="prefetch" href="/coding-everyday/assets/js/21.7eddf29a.js"><link rel="prefetch" href="/coding-everyday/assets/js/210.fb4f6688.js"><link rel="prefetch" href="/coding-everyday/assets/js/211.c903d10a.js"><link rel="prefetch" href="/coding-everyday/assets/js/212.450dc5fd.js"><link rel="prefetch" href="/coding-everyday/assets/js/213.acfd727d.js"><link rel="prefetch" href="/coding-everyday/assets/js/214.ef2fadd4.js"><link rel="prefetch" href="/coding-everyday/assets/js/215.23eec475.js"><link rel="prefetch" href="/coding-everyday/assets/js/216.409b39c2.js"><link rel="prefetch" href="/coding-everyday/assets/js/217.f9b7ca66.js"><link rel="prefetch" href="/coding-everyday/assets/js/218.0cd77dcc.js"><link rel="prefetch" href="/coding-everyday/assets/js/219.27975b97.js"><link rel="prefetch" href="/coding-everyday/assets/js/22.6ca91abb.js"><link rel="prefetch" href="/coding-everyday/assets/js/220.f1edb2f0.js"><link rel="prefetch" href="/coding-everyday/assets/js/221.50bca88b.js"><link rel="prefetch" href="/coding-everyday/assets/js/222.193d1caa.js"><link rel="prefetch" href="/coding-everyday/assets/js/223.8b7830f7.js"><link rel="prefetch" href="/coding-everyday/assets/js/224.d6a47e88.js"><link rel="prefetch" href="/coding-everyday/assets/js/225.543c34ca.js"><link rel="prefetch" href="/coding-everyday/assets/js/226.345759ae.js"><link rel="prefetch" href="/coding-everyday/assets/js/227.021010e1.js"><link rel="prefetch" href="/coding-everyday/assets/js/228.493fd0bc.js"><link rel="prefetch" href="/coding-everyday/assets/js/229.11858577.js"><link rel="prefetch" href="/coding-everyday/assets/js/23.0a059f69.js"><link rel="prefetch" href="/coding-everyday/assets/js/230.3db86728.js"><link rel="prefetch" href="/coding-everyday/assets/js/231.cc3810a6.js"><link rel="prefetch" href="/coding-everyday/assets/js/232.408ad9b1.js"><link rel="prefetch" href="/coding-everyday/assets/js/233.94200fa3.js"><link rel="prefetch" href="/coding-everyday/assets/js/234.7afd41ac.js"><link rel="prefetch" href="/coding-everyday/assets/js/235.93d254b6.js"><link rel="prefetch" href="/coding-everyday/assets/js/236.b9225c8e.js"><link rel="prefetch" href="/coding-everyday/assets/js/237.a4b366c9.js"><link rel="prefetch" href="/coding-everyday/assets/js/238.e099eb23.js"><link rel="prefetch" href="/coding-everyday/assets/js/239.0b803545.js"><link rel="prefetch" href="/coding-everyday/assets/js/24.462b248f.js"><link rel="prefetch" href="/coding-everyday/assets/js/240.b0af6400.js"><link rel="prefetch" href="/coding-everyday/assets/js/241.6ed9b771.js"><link rel="prefetch" href="/coding-everyday/assets/js/242.5c0bd2b2.js"><link rel="prefetch" href="/coding-everyday/assets/js/243.cb6f6c9e.js"><link rel="prefetch" href="/coding-everyday/assets/js/244.e0bfe017.js"><link rel="prefetch" href="/coding-everyday/assets/js/245.d9a6c529.js"><link rel="prefetch" href="/coding-everyday/assets/js/246.6ee99bb1.js"><link rel="prefetch" href="/coding-everyday/assets/js/247.9d263930.js"><link rel="prefetch" href="/coding-everyday/assets/js/248.c1d6c33a.js"><link rel="prefetch" href="/coding-everyday/assets/js/249.4aaa78c1.js"><link rel="prefetch" href="/coding-everyday/assets/js/25.39271683.js"><link rel="prefetch" href="/coding-everyday/assets/js/250.235b05da.js"><link rel="prefetch" href="/coding-everyday/assets/js/251.06b59e67.js"><link rel="prefetch" href="/coding-everyday/assets/js/252.ff765296.js"><link rel="prefetch" href="/coding-everyday/assets/js/253.4b99f6f8.js"><link rel="prefetch" href="/coding-everyday/assets/js/254.a20e9e29.js"><link rel="prefetch" href="/coding-everyday/assets/js/255.d0a82dd9.js"><link rel="prefetch" href="/coding-everyday/assets/js/256.da03634e.js"><link rel="prefetch" href="/coding-everyday/assets/js/257.44471d80.js"><link rel="prefetch" href="/coding-everyday/assets/js/258.455fc0f5.js"><link rel="prefetch" href="/coding-everyday/assets/js/259.bab73bf6.js"><link rel="prefetch" href="/coding-everyday/assets/js/26.e8b528ea.js"><link rel="prefetch" href="/coding-everyday/assets/js/260.88de3710.js"><link rel="prefetch" href="/coding-everyday/assets/js/261.2b85dc2c.js"><link rel="prefetch" href="/coding-everyday/assets/js/262.13bde166.js"><link rel="prefetch" href="/coding-everyday/assets/js/263.606c18a4.js"><link rel="prefetch" href="/coding-everyday/assets/js/264.3fcb0aba.js"><link rel="prefetch" href="/coding-everyday/assets/js/265.e35b959b.js"><link rel="prefetch" href="/coding-everyday/assets/js/266.14822138.js"><link rel="prefetch" href="/coding-everyday/assets/js/267.46b0e4b4.js"><link rel="prefetch" href="/coding-everyday/assets/js/268.b852cdc1.js"><link rel="prefetch" href="/coding-everyday/assets/js/269.4e0f221f.js"><link rel="prefetch" href="/coding-everyday/assets/js/27.c8ad8774.js"><link rel="prefetch" href="/coding-everyday/assets/js/270.d98e59a2.js"><link rel="prefetch" href="/coding-everyday/assets/js/271.78e86b84.js"><link rel="prefetch" href="/coding-everyday/assets/js/272.0fc14785.js"><link rel="prefetch" href="/coding-everyday/assets/js/273.4e2941b0.js"><link rel="prefetch" href="/coding-everyday/assets/js/274.729fa439.js"><link rel="prefetch" href="/coding-everyday/assets/js/275.33083158.js"><link rel="prefetch" href="/coding-everyday/assets/js/276.925560e3.js"><link rel="prefetch" href="/coding-everyday/assets/js/277.0b9f7811.js"><link rel="prefetch" href="/coding-everyday/assets/js/278.4755a957.js"><link rel="prefetch" href="/coding-everyday/assets/js/279.5fe219f3.js"><link rel="prefetch" href="/coding-everyday/assets/js/28.56029eb0.js"><link rel="prefetch" href="/coding-everyday/assets/js/280.67823de4.js"><link rel="prefetch" href="/coding-everyday/assets/js/281.c433c5d1.js"><link rel="prefetch" href="/coding-everyday/assets/js/282.a31c026f.js"><link rel="prefetch" href="/coding-everyday/assets/js/283.680a0a64.js"><link rel="prefetch" href="/coding-everyday/assets/js/284.f8e05722.js"><link rel="prefetch" href="/coding-everyday/assets/js/285.520106cc.js"><link rel="prefetch" href="/coding-everyday/assets/js/286.1e56a5cd.js"><link rel="prefetch" href="/coding-everyday/assets/js/287.3bb7e6e9.js"><link rel="prefetch" href="/coding-everyday/assets/js/288.5a60063f.js"><link rel="prefetch" href="/coding-everyday/assets/js/289.3dba2730.js"><link rel="prefetch" href="/coding-everyday/assets/js/29.50f6a597.js"><link rel="prefetch" href="/coding-everyday/assets/js/290.bb188262.js"><link rel="prefetch" href="/coding-everyday/assets/js/291.dc6c476f.js"><link rel="prefetch" href="/coding-everyday/assets/js/292.b80b4f2b.js"><link rel="prefetch" href="/coding-everyday/assets/js/293.a88c3de0.js"><link rel="prefetch" href="/coding-everyday/assets/js/294.ee224297.js"><link rel="prefetch" href="/coding-everyday/assets/js/295.93101680.js"><link rel="prefetch" href="/coding-everyday/assets/js/296.6c9fa6b4.js"><link rel="prefetch" href="/coding-everyday/assets/js/297.b5f39cfe.js"><link rel="prefetch" href="/coding-everyday/assets/js/298.1b87722b.js"><link rel="prefetch" href="/coding-everyday/assets/js/299.27f0acb7.js"><link rel="prefetch" href="/coding-everyday/assets/js/3.a1b9b240.js"><link rel="prefetch" href="/coding-everyday/assets/js/30.1ea852f6.js"><link rel="prefetch" href="/coding-everyday/assets/js/300.a0778f86.js"><link rel="prefetch" href="/coding-everyday/assets/js/301.49342e7f.js"><link rel="prefetch" href="/coding-everyday/assets/js/302.deb65e7a.js"><link rel="prefetch" href="/coding-everyday/assets/js/303.e9a332f1.js"><link rel="prefetch" href="/coding-everyday/assets/js/304.9cd0c63d.js"><link rel="prefetch" href="/coding-everyday/assets/js/305.39cd0beb.js"><link rel="prefetch" href="/coding-everyday/assets/js/306.8d661ba0.js"><link rel="prefetch" href="/coding-everyday/assets/js/307.ecf02e2d.js"><link rel="prefetch" href="/coding-everyday/assets/js/308.553b6451.js"><link rel="prefetch" href="/coding-everyday/assets/js/309.c35b20a9.js"><link rel="prefetch" href="/coding-everyday/assets/js/31.f78ca6d9.js"><link rel="prefetch" href="/coding-everyday/assets/js/310.ee1bf399.js"><link rel="prefetch" href="/coding-everyday/assets/js/311.4f17e4bb.js"><link rel="prefetch" href="/coding-everyday/assets/js/312.4a05b500.js"><link rel="prefetch" href="/coding-everyday/assets/js/313.da03ddc7.js"><link rel="prefetch" href="/coding-everyday/assets/js/314.82cab787.js"><link rel="prefetch" href="/coding-everyday/assets/js/315.f6c4d4d5.js"><link rel="prefetch" href="/coding-everyday/assets/js/316.91d3e06a.js"><link rel="prefetch" href="/coding-everyday/assets/js/317.d0825136.js"><link rel="prefetch" href="/coding-everyday/assets/js/318.83ca5834.js"><link rel="prefetch" href="/coding-everyday/assets/js/319.39e2e52d.js"><link rel="prefetch" href="/coding-everyday/assets/js/32.a53b8009.js"><link rel="prefetch" href="/coding-everyday/assets/js/320.cabaffb1.js"><link rel="prefetch" href="/coding-everyday/assets/js/321.7517caa8.js"><link rel="prefetch" href="/coding-everyday/assets/js/322.cd3a7f38.js"><link rel="prefetch" href="/coding-everyday/assets/js/323.efe47933.js"><link rel="prefetch" href="/coding-everyday/assets/js/324.7f28a14e.js"><link rel="prefetch" href="/coding-everyday/assets/js/325.a120723d.js"><link rel="prefetch" href="/coding-everyday/assets/js/326.12adbd44.js"><link rel="prefetch" href="/coding-everyday/assets/js/327.83342a4a.js"><link rel="prefetch" href="/coding-everyday/assets/js/328.2199e481.js"><link rel="prefetch" href="/coding-everyday/assets/js/329.910ae3e3.js"><link rel="prefetch" href="/coding-everyday/assets/js/33.7587bc6d.js"><link rel="prefetch" href="/coding-everyday/assets/js/330.f2ed99c2.js"><link rel="prefetch" href="/coding-everyday/assets/js/331.951e71ce.js"><link rel="prefetch" href="/coding-everyday/assets/js/332.ccd3c18e.js"><link rel="prefetch" href="/coding-everyday/assets/js/333.83bb7e7f.js"><link rel="prefetch" href="/coding-everyday/assets/js/334.e8fdd785.js"><link rel="prefetch" href="/coding-everyday/assets/js/335.23ed27af.js"><link rel="prefetch" href="/coding-everyday/assets/js/336.5fa268c8.js"><link rel="prefetch" href="/coding-everyday/assets/js/337.bdd04e85.js"><link rel="prefetch" href="/coding-everyday/assets/js/338.5f13acd5.js"><link rel="prefetch" href="/coding-everyday/assets/js/339.5df092f0.js"><link rel="prefetch" href="/coding-everyday/assets/js/34.cd035a8b.js"><link rel="prefetch" href="/coding-everyday/assets/js/340.893462df.js"><link rel="prefetch" href="/coding-everyday/assets/js/341.cbf9aa02.js"><link rel="prefetch" href="/coding-everyday/assets/js/342.6341a118.js"><link rel="prefetch" href="/coding-everyday/assets/js/343.d6e28220.js"><link rel="prefetch" href="/coding-everyday/assets/js/344.c3397e1c.js"><link rel="prefetch" href="/coding-everyday/assets/js/345.37b882ff.js"><link rel="prefetch" href="/coding-everyday/assets/js/346.678e4225.js"><link rel="prefetch" href="/coding-everyday/assets/js/347.86c38891.js"><link rel="prefetch" href="/coding-everyday/assets/js/348.c3731485.js"><link rel="prefetch" href="/coding-everyday/assets/js/349.af86d6ac.js"><link rel="prefetch" href="/coding-everyday/assets/js/35.b9b0f461.js"><link rel="prefetch" href="/coding-everyday/assets/js/350.6ef94737.js"><link rel="prefetch" href="/coding-everyday/assets/js/351.2732d87a.js"><link rel="prefetch" href="/coding-everyday/assets/js/352.cf828b84.js"><link rel="prefetch" href="/coding-everyday/assets/js/353.f4560e0f.js"><link rel="prefetch" href="/coding-everyday/assets/js/354.016c4a6c.js"><link rel="prefetch" href="/coding-everyday/assets/js/355.9a8cc1ff.js"><link rel="prefetch" href="/coding-everyday/assets/js/356.2608d72a.js"><link rel="prefetch" href="/coding-everyday/assets/js/357.cffb6826.js"><link rel="prefetch" href="/coding-everyday/assets/js/358.40ddd38c.js"><link rel="prefetch" href="/coding-everyday/assets/js/359.6bb079cd.js"><link rel="prefetch" href="/coding-everyday/assets/js/36.06b463e0.js"><link rel="prefetch" href="/coding-everyday/assets/js/360.ec78b314.js"><link rel="prefetch" href="/coding-everyday/assets/js/361.e52fe278.js"><link rel="prefetch" href="/coding-everyday/assets/js/362.7630c8e3.js"><link rel="prefetch" href="/coding-everyday/assets/js/363.d89e2637.js"><link rel="prefetch" href="/coding-everyday/assets/js/364.851e1b8d.js"><link rel="prefetch" href="/coding-everyday/assets/js/365.1cb08a24.js"><link rel="prefetch" href="/coding-everyday/assets/js/366.951ae720.js"><link rel="prefetch" href="/coding-everyday/assets/js/367.2fdd1cc5.js"><link rel="prefetch" href="/coding-everyday/assets/js/368.19576186.js"><link rel="prefetch" href="/coding-everyday/assets/js/369.fe3c6cac.js"><link rel="prefetch" href="/coding-everyday/assets/js/37.57e63411.js"><link rel="prefetch" href="/coding-everyday/assets/js/370.9846a2f3.js"><link rel="prefetch" href="/coding-everyday/assets/js/371.6f70858e.js"><link rel="prefetch" href="/coding-everyday/assets/js/372.960bc7d2.js"><link rel="prefetch" href="/coding-everyday/assets/js/373.0c2a5d85.js"><link rel="prefetch" href="/coding-everyday/assets/js/374.63b5c492.js"><link rel="prefetch" href="/coding-everyday/assets/js/375.b10c9f92.js"><link rel="prefetch" href="/coding-everyday/assets/js/376.042f8a18.js"><link rel="prefetch" href="/coding-everyday/assets/js/377.4288d9a8.js"><link rel="prefetch" href="/coding-everyday/assets/js/378.dbbcd42e.js"><link rel="prefetch" href="/coding-everyday/assets/js/379.5f7403af.js"><link rel="prefetch" href="/coding-everyday/assets/js/38.3f0c80c4.js"><link rel="prefetch" href="/coding-everyday/assets/js/380.abe2c0f0.js"><link rel="prefetch" href="/coding-everyday/assets/js/381.fce0ea47.js"><link rel="prefetch" href="/coding-everyday/assets/js/382.c757632a.js"><link rel="prefetch" href="/coding-everyday/assets/js/383.48295721.js"><link rel="prefetch" href="/coding-everyday/assets/js/384.d566635e.js"><link rel="prefetch" href="/coding-everyday/assets/js/385.b09ae410.js"><link rel="prefetch" href="/coding-everyday/assets/js/386.1667f2ad.js"><link rel="prefetch" href="/coding-everyday/assets/js/387.9e02a51b.js"><link rel="prefetch" href="/coding-everyday/assets/js/388.c428adcf.js"><link rel="prefetch" href="/coding-everyday/assets/js/389.82674739.js"><link rel="prefetch" href="/coding-everyday/assets/js/39.2ebcc29a.js"><link rel="prefetch" href="/coding-everyday/assets/js/390.5f0cd416.js"><link rel="prefetch" href="/coding-everyday/assets/js/391.d1099268.js"><link rel="prefetch" href="/coding-everyday/assets/js/392.0a9d05bb.js"><link rel="prefetch" href="/coding-everyday/assets/js/393.c507738f.js"><link rel="prefetch" href="/coding-everyday/assets/js/394.6ea52938.js"><link rel="prefetch" href="/coding-everyday/assets/js/395.4993e12b.js"><link rel="prefetch" href="/coding-everyday/assets/js/396.6eea3d34.js"><link rel="prefetch" href="/coding-everyday/assets/js/397.9234ad53.js"><link rel="prefetch" href="/coding-everyday/assets/js/398.83672d4b.js"><link rel="prefetch" href="/coding-everyday/assets/js/399.0f252e48.js"><link rel="prefetch" href="/coding-everyday/assets/js/4.8affc7e0.js"><link rel="prefetch" href="/coding-everyday/assets/js/40.a7682b40.js"><link rel="prefetch" href="/coding-everyday/assets/js/400.a7ae929b.js"><link rel="prefetch" href="/coding-everyday/assets/js/401.e06c073a.js"><link rel="prefetch" href="/coding-everyday/assets/js/402.3aacefa5.js"><link rel="prefetch" href="/coding-everyday/assets/js/403.429994fb.js"><link rel="prefetch" href="/coding-everyday/assets/js/404.0f670d7e.js"><link rel="prefetch" href="/coding-everyday/assets/js/405.222e0f78.js"><link rel="prefetch" href="/coding-everyday/assets/js/406.9ebff50f.js"><link rel="prefetch" href="/coding-everyday/assets/js/407.4d855082.js"><link rel="prefetch" href="/coding-everyday/assets/js/408.c3c06263.js"><link rel="prefetch" href="/coding-everyday/assets/js/409.55c38ceb.js"><link rel="prefetch" href="/coding-everyday/assets/js/41.56c53c8d.js"><link rel="prefetch" href="/coding-everyday/assets/js/410.43bbaf02.js"><link rel="prefetch" href="/coding-everyday/assets/js/411.67dc30bc.js"><link rel="prefetch" href="/coding-everyday/assets/js/412.68d2524b.js"><link rel="prefetch" href="/coding-everyday/assets/js/413.d03e03ca.js"><link rel="prefetch" href="/coding-everyday/assets/js/414.da1b9f91.js"><link rel="prefetch" href="/coding-everyday/assets/js/415.94e303aa.js"><link rel="prefetch" href="/coding-everyday/assets/js/416.d4558c6f.js"><link rel="prefetch" href="/coding-everyday/assets/js/417.e434fc88.js"><link rel="prefetch" href="/coding-everyday/assets/js/418.d214afb9.js"><link rel="prefetch" href="/coding-everyday/assets/js/419.83eb4bf5.js"><link rel="prefetch" href="/coding-everyday/assets/js/42.33a2aef0.js"><link rel="prefetch" href="/coding-everyday/assets/js/420.bdc14694.js"><link rel="prefetch" href="/coding-everyday/assets/js/421.8164477f.js"><link rel="prefetch" href="/coding-everyday/assets/js/422.27a1617d.js"><link rel="prefetch" href="/coding-everyday/assets/js/423.26bd34c9.js"><link rel="prefetch" href="/coding-everyday/assets/js/425.013417d7.js"><link rel="prefetch" href="/coding-everyday/assets/js/426.3dae1d4c.js"><link rel="prefetch" href="/coding-everyday/assets/js/427.5ade6c69.js"><link rel="prefetch" href="/coding-everyday/assets/js/428.1aa6f45d.js"><link rel="prefetch" href="/coding-everyday/assets/js/429.8b6815a0.js"><link rel="prefetch" href="/coding-everyday/assets/js/43.c1ab03be.js"><link rel="prefetch" href="/coding-everyday/assets/js/430.38523764.js"><link rel="prefetch" href="/coding-everyday/assets/js/431.493b12cc.js"><link rel="prefetch" href="/coding-everyday/assets/js/432.c51f763b.js"><link rel="prefetch" href="/coding-everyday/assets/js/433.5ded04fc.js"><link rel="prefetch" href="/coding-everyday/assets/js/434.b765ab75.js"><link rel="prefetch" href="/coding-everyday/assets/js/435.dedacd4d.js"><link rel="prefetch" href="/coding-everyday/assets/js/436.bc31fe8b.js"><link rel="prefetch" href="/coding-everyday/assets/js/437.e8d73ae1.js"><link rel="prefetch" href="/coding-everyday/assets/js/438.63cd7d99.js"><link rel="prefetch" href="/coding-everyday/assets/js/439.bb63a793.js"><link rel="prefetch" href="/coding-everyday/assets/js/44.f94e2ee6.js"><link rel="prefetch" href="/coding-everyday/assets/js/440.aaf8e26c.js"><link rel="prefetch" href="/coding-everyday/assets/js/441.76ab1154.js"><link rel="prefetch" href="/coding-everyday/assets/js/442.6800ac74.js"><link rel="prefetch" href="/coding-everyday/assets/js/443.3b292365.js"><link rel="prefetch" href="/coding-everyday/assets/js/444.c88be556.js"><link rel="prefetch" href="/coding-everyday/assets/js/445.7d388c8d.js"><link rel="prefetch" href="/coding-everyday/assets/js/446.3e3b9d91.js"><link rel="prefetch" href="/coding-everyday/assets/js/447.1c0ced91.js"><link rel="prefetch" href="/coding-everyday/assets/js/448.db215881.js"><link rel="prefetch" href="/coding-everyday/assets/js/449.ed16ada4.js"><link rel="prefetch" href="/coding-everyday/assets/js/45.82da1199.js"><link rel="prefetch" href="/coding-everyday/assets/js/450.76214050.js"><link rel="prefetch" href="/coding-everyday/assets/js/451.0a2584a6.js"><link rel="prefetch" href="/coding-everyday/assets/js/452.e44cff0e.js"><link rel="prefetch" href="/coding-everyday/assets/js/453.bd51d9d3.js"><link rel="prefetch" href="/coding-everyday/assets/js/454.49969ecd.js"><link rel="prefetch" href="/coding-everyday/assets/js/455.73e4d547.js"><link rel="prefetch" href="/coding-everyday/assets/js/456.218f5d8b.js"><link rel="prefetch" href="/coding-everyday/assets/js/457.1e647831.js"><link rel="prefetch" href="/coding-everyday/assets/js/458.f53edfa2.js"><link rel="prefetch" href="/coding-everyday/assets/js/459.879d4789.js"><link rel="prefetch" href="/coding-everyday/assets/js/46.5a4c5a82.js"><link rel="prefetch" href="/coding-everyday/assets/js/460.907981fe.js"><link rel="prefetch" href="/coding-everyday/assets/js/461.101dd88f.js"><link rel="prefetch" href="/coding-everyday/assets/js/462.568c58b3.js"><link rel="prefetch" href="/coding-everyday/assets/js/463.317f539a.js"><link rel="prefetch" href="/coding-everyday/assets/js/464.7d2d913f.js"><link rel="prefetch" href="/coding-everyday/assets/js/465.390faf26.js"><link rel="prefetch" href="/coding-everyday/assets/js/466.fd311346.js"><link rel="prefetch" href="/coding-everyday/assets/js/467.4a85fe13.js"><link rel="prefetch" href="/coding-everyday/assets/js/468.a503eff8.js"><link rel="prefetch" href="/coding-everyday/assets/js/469.893bd69b.js"><link rel="prefetch" href="/coding-everyday/assets/js/47.add0622f.js"><link rel="prefetch" href="/coding-everyday/assets/js/470.4856625b.js"><link rel="prefetch" href="/coding-everyday/assets/js/471.6958c859.js"><link rel="prefetch" href="/coding-everyday/assets/js/472.fe03886c.js"><link rel="prefetch" href="/coding-everyday/assets/js/473.36e8edcd.js"><link rel="prefetch" href="/coding-everyday/assets/js/474.5acdb816.js"><link rel="prefetch" href="/coding-everyday/assets/js/475.24f7decd.js"><link rel="prefetch" href="/coding-everyday/assets/js/476.37cca891.js"><link rel="prefetch" href="/coding-everyday/assets/js/477.f1eba155.js"><link rel="prefetch" href="/coding-everyday/assets/js/478.7cefc71b.js"><link rel="prefetch" href="/coding-everyday/assets/js/479.634456c0.js"><link rel="prefetch" href="/coding-everyday/assets/js/48.e70297ce.js"><link rel="prefetch" href="/coding-everyday/assets/js/480.8d105297.js"><link rel="prefetch" href="/coding-everyday/assets/js/481.d496a27f.js"><link rel="prefetch" href="/coding-everyday/assets/js/482.1b209408.js"><link rel="prefetch" href="/coding-everyday/assets/js/483.da81cf26.js"><link rel="prefetch" href="/coding-everyday/assets/js/484.facb6683.js"><link rel="prefetch" href="/coding-everyday/assets/js/485.7cd7c836.js"><link rel="prefetch" href="/coding-everyday/assets/js/486.7eb61250.js"><link rel="prefetch" href="/coding-everyday/assets/js/487.a7c414fb.js"><link rel="prefetch" href="/coding-everyday/assets/js/488.1369046e.js"><link rel="prefetch" href="/coding-everyday/assets/js/489.be6a9d84.js"><link rel="prefetch" href="/coding-everyday/assets/js/49.b6ec51df.js"><link rel="prefetch" href="/coding-everyday/assets/js/490.1e8573c1.js"><link rel="prefetch" href="/coding-everyday/assets/js/491.fd83c608.js"><link rel="prefetch" href="/coding-everyday/assets/js/492.cf23d8d4.js"><link rel="prefetch" href="/coding-everyday/assets/js/493.ee14e0e4.js"><link rel="prefetch" href="/coding-everyday/assets/js/494.d8eb276c.js"><link rel="prefetch" href="/coding-everyday/assets/js/495.38540240.js"><link rel="prefetch" href="/coding-everyday/assets/js/496.66e6acc7.js"><link rel="prefetch" href="/coding-everyday/assets/js/497.cc35c6e9.js"><link rel="prefetch" href="/coding-everyday/assets/js/498.d024aa81.js"><link rel="prefetch" href="/coding-everyday/assets/js/499.d51084dd.js"><link rel="prefetch" href="/coding-everyday/assets/js/5.abd557ac.js"><link rel="prefetch" href="/coding-everyday/assets/js/50.d80a4df5.js"><link rel="prefetch" href="/coding-everyday/assets/js/500.847cd7de.js"><link rel="prefetch" href="/coding-everyday/assets/js/501.f23eeea8.js"><link rel="prefetch" href="/coding-everyday/assets/js/502.1326c078.js"><link rel="prefetch" href="/coding-everyday/assets/js/503.690db54a.js"><link rel="prefetch" href="/coding-everyday/assets/js/51.e0839eaa.js"><link rel="prefetch" href="/coding-everyday/assets/js/52.7159ccef.js"><link rel="prefetch" href="/coding-everyday/assets/js/53.e397c54d.js"><link rel="prefetch" href="/coding-everyday/assets/js/54.0507560f.js"><link rel="prefetch" href="/coding-everyday/assets/js/55.a50c1b00.js"><link rel="prefetch" href="/coding-everyday/assets/js/56.ced62d64.js"><link rel="prefetch" href="/coding-everyday/assets/js/57.53a0d4c9.js"><link rel="prefetch" href="/coding-everyday/assets/js/58.33b70406.js"><link rel="prefetch" href="/coding-everyday/assets/js/59.8a97a997.js"><link rel="prefetch" href="/coding-everyday/assets/js/6.968bc6aa.js"><link rel="prefetch" href="/coding-everyday/assets/js/60.52911f52.js"><link rel="prefetch" href="/coding-everyday/assets/js/61.061f3a28.js"><link rel="prefetch" href="/coding-everyday/assets/js/62.502d77af.js"><link rel="prefetch" href="/coding-everyday/assets/js/63.165c1e41.js"><link rel="prefetch" href="/coding-everyday/assets/js/64.5d333c6f.js"><link rel="prefetch" href="/coding-everyday/assets/js/65.48e9c6b0.js"><link rel="prefetch" href="/coding-everyday/assets/js/66.f09ce94d.js"><link rel="prefetch" href="/coding-everyday/assets/js/67.26af9ffa.js"><link rel="prefetch" href="/coding-everyday/assets/js/68.08c27ded.js"><link rel="prefetch" href="/coding-everyday/assets/js/69.fc8c7881.js"><link rel="prefetch" href="/coding-everyday/assets/js/7.5d97bdcc.js"><link rel="prefetch" href="/coding-everyday/assets/js/70.97076e82.js"><link rel="prefetch" href="/coding-everyday/assets/js/71.e0156cbb.js"><link rel="prefetch" href="/coding-everyday/assets/js/72.91321b77.js"><link rel="prefetch" href="/coding-everyday/assets/js/73.7c015f46.js"><link rel="prefetch" href="/coding-everyday/assets/js/74.0a91b842.js"><link rel="prefetch" href="/coding-everyday/assets/js/75.d9803816.js"><link rel="prefetch" href="/coding-everyday/assets/js/76.ff578883.js"><link rel="prefetch" href="/coding-everyday/assets/js/77.8349ceb9.js"><link rel="prefetch" href="/coding-everyday/assets/js/78.6bf370cb.js"><link rel="prefetch" href="/coding-everyday/assets/js/79.a9201ab2.js"><link rel="prefetch" href="/coding-everyday/assets/js/8.40a4858c.js"><link rel="prefetch" href="/coding-everyday/assets/js/80.0f19feda.js"><link rel="prefetch" href="/coding-everyday/assets/js/81.41b61601.js"><link rel="prefetch" href="/coding-everyday/assets/js/82.c4efc0c2.js"><link rel="prefetch" href="/coding-everyday/assets/js/83.9efb55fd.js"><link rel="prefetch" href="/coding-everyday/assets/js/84.ecd87238.js"><link rel="prefetch" href="/coding-everyday/assets/js/85.32cb1248.js"><link rel="prefetch" href="/coding-everyday/assets/js/86.df7b6137.js"><link rel="prefetch" href="/coding-everyday/assets/js/87.23510e07.js"><link rel="prefetch" href="/coding-everyday/assets/js/88.c371d46d.js"><link rel="prefetch" href="/coding-everyday/assets/js/89.671306b0.js"><link rel="prefetch" href="/coding-everyday/assets/js/9.0b6bcfc1.js"><link rel="prefetch" href="/coding-everyday/assets/js/90.57924503.js"><link rel="prefetch" href="/coding-everyday/assets/js/91.46fa54ac.js"><link rel="prefetch" href="/coding-everyday/assets/js/92.acd40cdb.js"><link rel="prefetch" href="/coding-everyday/assets/js/93.6c3310cb.js"><link rel="prefetch" href="/coding-everyday/assets/js/94.ea78ec9c.js"><link rel="prefetch" href="/coding-everyday/assets/js/95.f43d4712.js"><link rel="prefetch" href="/coding-everyday/assets/js/96.0e3fe8af.js"><link rel="prefetch" href="/coding-everyday/assets/js/97.90d3ecfa.js"><link rel="prefetch" href="/coding-everyday/assets/js/98.13f235bc.js"><link rel="prefetch" href="/coding-everyday/assets/js/99.1f0e42bb.js">
    <link rel="stylesheet" href="/coding-everyday/assets/css/0.styles.a7a63719.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/coding-everyday/" class="home-link router-link-active"><!----> <span class="site-name">Coding-everyday</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://uwayfly.com" target="_self" class="nav-link external">
  🙋‍♂️ 一起学习
  <!----></a></div><div class="nav-item"><a href="https://uwayfly.com/image" target="_self" class="nav-link external">
  🔥 热爱生活
  <!----></a></div> <a href="https://github.com/novlan1/coding-everyday" target="_blank" rel="noopener noreferrer" class="repo-link">
    点亮⭐不迷路
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://uwayfly.com" target="_self" class="nav-link external">
  🙋‍♂️ 一起学习
  <!----></a></div><div class="nav-item"><a href="https://uwayfly.com/image" target="_self" class="nav-link external">
  🔥 热爱生活
  <!----></a></div> <a href="https://github.com/novlan1/coding-everyday" target="_blank" rel="noopener noreferrer" class="repo-link">
    点亮⭐不迷路
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/coding-everyday/" aria-current="page" class="sidebar-link">前言</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/coding-everyday/Math" class="sidebar-heading clickable"><span>数学</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/coding-everyday/Computer-Base" class="sidebar-heading clickable"><span>计算机基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/coding-everyday/Database" class="sidebar-heading clickable"><span>数据库</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/coding-everyday/Front-End-Base" class="sidebar-heading clickable"><span>前端基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/coding-everyday/Front-End-Library" class="sidebar-heading clickable"><span>前端框架</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/coding-everyday/Machine-Learning" class="sidebar-heading clickable"><span>机器学习</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/coding-everyday/Problems-in-Work" class="sidebar-heading clickable"><span>常见问题</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/coding-everyday/Tools" class="sidebar-heading clickable"><span>工具</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/coding-everyday/NodeJS" class="sidebar-heading clickable"><span>NodeJS</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/coding-everyday/Linux" class="sidebar-heading clickable"><span>Linux</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编程语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/coding-everyday/Knowledge-More" class="sidebar-heading clickable"><span>更多知识</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>文章</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Eslint</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ast</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>bash</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>c++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>go语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>jest</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>lerna</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>lottery</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>rollup</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>uni-app</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>优化2025</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>低代码</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>单元测试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>思考</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>日常笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/coding-everyday/article/日常笔记/Docker 入门.html" class="sidebar-link">Docker 入门</a></li><li><a href="/coding-everyday/article/日常笔记/Jest 配置.html" class="sidebar-link">Jest 配置</a></li><li><a href="/coding-everyday/article/日常笔记/K8s概念.html" class="sidebar-link">K8s概念</a></li><li><a href="/coding-everyday/article/日常笔记/git本地多用户管理.html" class="sidebar-link">git本地多用户管理</a></li><li><a href="/coding-everyday/article/日常笔记/mac.html" class="sidebar-link">mac</a></li><li><a href="/coding-everyday/article/日常笔记/npm 查看指定 package 的依赖关系.html" class="sidebar-link">npm 查看指定 package 的依赖关系</a></li><li><a href="/coding-everyday/article/日常笔记/npx作用.html" class="sidebar-link">npx作用</a></li><li><a href="/coding-everyday/article/日常笔记/typescript中resolve参数为空时报错.html" class="sidebar-link">typescript中resolve参数为空时报错</a></li><li><a href="/coding-everyday/article/日常笔记/vscode笔记.html" class="sidebar-link">vscode笔记</a></li><li><a href="/coding-everyday/article/日常笔记/可选链操作符.html" class="sidebar-link">可选链操作符</a></li><li><a href="/coding-everyday/article/日常笔记/基础笔记.html" class="sidebar-link">基础笔记</a></li><li><a href="/coding-everyday/article/日常笔记/基础笔记-CSS.html" class="sidebar-link">基础笔记-CSS</a></li><li><a href="/coding-everyday/article/日常笔记/基础笔记-JS.html" class="sidebar-link">基础笔记-JS</a></li><li><a href="/coding-everyday/article/日常笔记/基础笔记-杂项.html" class="sidebar-link">基础笔记-杂项</a></li><li><a href="/coding-everyday/article/日常笔记/日常笔记-A.html" class="active sidebar-link">日常笔记-A</a></li><li><a href="/coding-everyday/article/日常笔记/日常笔记-B.html" class="sidebar-link">日常笔记-B</a></li><li><a href="/coding-everyday/article/日常笔记/日常笔记-C-Eslint插件和Babel插件的区别.html" class="sidebar-link">日常笔记-C-Eslint插件和Babel插件的区别</a></li><li><a href="/coding-everyday/article/日常笔记/日常笔记-D.html" class="sidebar-link">日常笔记-D</a></li><li><a href="/coding-everyday/article/日常笔记/日常笔记-E.html" class="sidebar-link">日常笔记-E</a></li><li><a href="/coding-everyday/article/日常笔记/架构笔记.html" class="sidebar-link">架构笔记</a></li><li><a href="/coding-everyday/article/日常笔记/空值合并运算符.html" class="sidebar-link">空值合并运算符</a></li><li><a href="/coding-everyday/article/日常笔记/解决if-else问题.html" class="sidebar-link">解决if-else问题</a></li><li><a href="/coding-everyday/article/日常笔记/解决打包时内存泄漏.html" class="sidebar-link">解决打包时内存泄漏</a></li><li><a href="/coding-everyday/article/日常笔记/负载均衡CLB.html" class="sidebar-link">负载均衡CLB</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>极客</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>测试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>研发效能</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>组件库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>组件库-tdesign</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>脚手架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>需求</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-一、开始"><a href="#_1-一、开始" class="header-anchor">#</a> 1. 一、开始</h2> <p>近期整理了一些“收藏”，主要是日常开发中遇到过的问题和小知识点。</p> <h2 id="_2-二、前端"><a href="#_2-二、前端" class="header-anchor">#</a> 2. 二、前端</h2> <h3 id="_2-1-gitignore忽略文件夹中除了指定的文件外的其他所有文件"><a href="#_2-1-gitignore忽略文件夹中除了指定的文件外的其他所有文件" class="header-anchor">#</a> 2.1. <code>.gitignore</code>忽略文件夹中除了指定的文件外的其他所有文件</h3> <p>只有2级目录：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//.ignore忽略文件夹中除了指定的文件外的其他所有文件</span>
<span class="token operator">**</span><span class="token operator">/</span>node_modules<span class="token comment">/*//忽略文件夹node_modules
!**/</span>node_modules<span class="token operator">/</span>vue<span class="token operator">-</span>html5<span class="token operator">-</span>editor<span class="token operator">/</span> <span class="token comment">//不包含vue-html5-editor文件夹</span>
</code></pre></div><p>存在多级目录时：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//错误写法</span>
<span class="token operator">**</span><span class="token operator">/</span>node_modules<span class="token comment">/*//忽略文件夹node_modules
!**/</span>node_modules<span class="token operator">/</span>vue<span class="token operator">-</span>html5<span class="token operator">-</span>editor<span class="token operator">/</span>dist<span class="token operator">/</span>  <span class="token comment">//这样写是不生效的</span>

<span class="token comment">//正确写法</span>
<span class="token operator">**</span><span class="token operator">/</span>node_modules<span class="token comment">/*
!**/</span>node_modules<span class="token operator">/</span>vue<span class="token operator">-</span>html5<span class="token operator">-</span>editor<span class="token operator">/</span>
<span class="token operator">**</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>vue<span class="token operator">-</span>html5<span class="token operator">-</span>editor<span class="token comment">/*
!**/</span>node_modules<span class="token operator">/</span>vue<span class="token operator">-</span>html5<span class="token operator">-</span>editor<span class="token operator">/</span>dist
</code></pre></div><p>参考：<a href="https://www.jianshu.com/p/82bbcfbb0ec9" target="_blank" rel="noopener noreferrer">.gitignore忽略文件夹中除了指定的文件外的其他所有文件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-2-正确的清除cookie"><a href="#_2-2-正确的清除cookie" class="header-anchor">#</a> 2.2. 正确的清除cookie</h3> <p>清除cookie方式是设置为过期，切记设置domain和path，只有这两个参数跟你要删除的参数完全一样才能把它删除掉。</p> <p>参考：<a href="https://www.jiangweishan.com/article/js8usdotjoi8390785023985.html" target="_blank" rel="noopener noreferrer">Javascript清除cookie的方法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-3-js设置css样式的几种方式"><a href="#_2-3-js设置css样式的几种方式" class="header-anchor">#</a> 2.3. JS设置CSS样式的几种方式</h3> <ol><li>直接设置style的属性，属性名用驼峰写法</li></ol> <p>比如：</p> <div class="language- extra-class"><pre class="language-text"><code>element.style.height = '100px';
</code></pre></div><ol start="2"><li>setAttribute</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'100px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>setAttribute设置style</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'height: 100px !important'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>使用setProperty。如果要设置!important，推荐用这种方法设置第三个参数,属性名不用驼峰写法</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'300px'</span><span class="token punctuation">,</span> <span class="token string">'important'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="5"><li>改变class</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>element<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span>className <span class="token operator">+=</span> <span class="token string">'blue fb'</span><span class="token punctuation">;</span>
</code></pre></div><ol start="6"><li>设置cssText</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">'height: 100px !important'</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">+=</span> <span class="token string">'height: 100px !important'</span><span class="token punctuation">;</span>
</code></pre></div><ol start="7"><li>创建并引入新的CSS样式文件</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">addNewStyle</span><span class="token punctuation">(</span><span class="token parameter">newStyle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> styleElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'styles_js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>styleElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    styleElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    styleElement<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text/css'</span><span class="token punctuation">;</span>
    styleElement<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'styles_js'</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'head'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>styleElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  styleElement<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>newStyle<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">addNewStyle</span><span class="token punctuation">(</span><span class="token string">'.box {height: 100px !important;}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="8"><li>使用addRule、insertRule</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在原有样式操作</span>
document<span class="token punctuation">.</span>styleSheets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addRule</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">,</span> <span class="token string">'height: 100px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>styleSheets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">insertRule</span><span class="token punctuation">(</span><span class="token string">'.box {height: 100px}'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 或者插入新样式时操作</span>
<span class="token keyword">const</span> styleEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> styleSheet <span class="token operator">=</span> styleEl<span class="token punctuation">.</span>sheet<span class="token punctuation">;</span>
styleSheet<span class="token punctuation">.</span><span class="token function">addRule</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">,</span> <span class="token string">'height: 100px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
styleSheet<span class="token punctuation">.</span><span class="token function">insertRule</span><span class="token punctuation">(</span><span class="token string">'.box {height: 100px}'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>styleEl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>参考：<a href="https://blog.csdn.net/x619y/article/details/80604609" target="_blank" rel="noopener noreferrer">JS设置CSS样式的几种方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-4-css3-animation动画中forwards和both的区别"><a href="#_2-4-css3-animation动画中forwards和both的区别" class="header-anchor">#</a> 2.4. CSS3 animation动画中forwards和both的区别</h3> <p>如果动画无延迟，forwards 和 both 表现出来的效果是相同的；在有延迟的时候表现出来的效果才会不同，forwards 和 both 的结束效果相同（停留在最后一个关键帧中定义的状态），<strong>开始时 both 会应用 backwards（第一帧定义的状态） 的效果</strong>。</p> <p>参考：<a href="https://blog.csdn.net/weixin_42989576/article/details/100551602" target="_blank" rel="noopener noreferrer">一次搞懂 CSS3 animation动画中forwards和both的区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-5-webpack3和4的区别"><a href="#_2-5-webpack3和4的区别" class="header-anchor">#</a> 2.5. Webpack3和4的区别</h3> <ol><li>增加了一个mode配置，只有两种值<code>development | production</code>。</li> <li>移除了webpack.optimize.CommonsChunkPlugin。可使用optimization.splitChunks进行模块划分（提取公用代码）。</li> <li>删除原 extract-text-webpack-plugin 配置，增加 mini-css-extract-plugin 配置。</li> <li>移除UglifyJsPlugin，只需要使用optimization.minimize为true就行，production mode下面自动为true</li> <li>移除loaders，必须使用rules。</li></ol> <p>参考：<a href="https://www.cnblogs.com/Super-scarlett/p/11085363.html" target="_blank" rel="noopener noreferrer">WEBPACK3和WEBPACK4区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-6-nodejs接收图片base64格式保存为文件"><a href="#_2-6-nodejs接收图片base64格式保存为文件" class="header-anchor">#</a> 2.6. Nodejs接收图片base64格式保存为文件</h3> <p>base64的形式为<code>“data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0...”</code>；</p> <p>当接收到上边的内容后，需要将<code>data:image/png;base64</code>,这段内容过滤掉，过滤成：<code>“iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0...”</code>；然后进行保存。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs<span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/upload'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//接收前台POST过来的base64</span>
    <span class="token keyword">var</span> imgData <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>imgData<span class="token punctuation">;</span>
    <span class="token comment">//过滤data:URL</span>
    <span class="token keyword">var</span> base64Data <span class="token operator">=</span> imgData<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^data:image\/\w+;base64,</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 返回一个被 string 的值初始化的新的 Buffer 实例,原始二进制数据存储在 Buffer 类的实例中，        </span>
    <span class="token comment">// 一个 Buffer 类似于一个整数数组，但它对应于 V8 堆内存之外的一块原始内存。</span>
    <span class="token keyword">var</span> dataBuffer <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>base64Data<span class="token punctuation">,</span> <span class="token string">'base64'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">&quot;image.png&quot;</span><span class="token punctuation">,</span> dataBuffer<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
          res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
          res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;保存成功！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>参考：<a href="https://blog.csdn.net/weixin_42103706/article/details/105903712" target="_blank" rel="noopener noreferrer">Nodejs接收图片base64格式保存为文件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-7-字符串中的换行符-r、-n、-br-不生效问题"><a href="#_2-7-字符串中的换行符-r、-n、-br-不生效问题" class="header-anchor">#</a> 2.7. 字符串中的换行符<code>\r</code>、<code>\n</code>、<code>&lt;br&gt;</code>不生效问题</h3> <p>在css中设置：</p> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token property">white-space</span><span class="token punctuation">:</span> pre-line<span class="token punctuation">;</span> <span class="token comment">// 合并空白符序列，但是保留换行符 让换行符生效</span>
</code></pre></div><h3 id="_2-8-进制转换"><a href="#_2-8-进制转换" class="header-anchor">#</a> 2.8. 进制转换</h3> <p>js中的两个内置方法 toString 和 parseInt。</p> <p><code>toString</code> 可以把一个数转换为指定进制的数，<code>parseInt</code> 是把数按照指定进制解析成十进制的数。</p> <ol><li>任意进制转换成十进制</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'11001'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 25</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'007F'</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 127</span>
</code></pre></div><ol start="2"><li>十进制转成任意进制</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 11001</span>
</code></pre></div><p>顺便贴下字符与Unicode（其实是UTF-16代码单元）互相转化：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;a&quot;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">// 97</span>

String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">)</span>
<span class="token comment">// &quot;a&quot;</span>
</code></pre></div><h3 id="_2-9-可选链操作符属性为数组"><a href="#_2-9-可选链操作符属性为数组" class="header-anchor">#</a> 2.9. 可选链操作符属性为数组</h3> <p>可选链操作符，数组的话，可以 <code>list?.[1]</code>。</p> <p>也可以 <code>let nestedProp = obj?.['prop' + 'Name'];</code></p> <h3 id="_2-10-ts报类型错误"><a href="#_2-10-ts报类型错误" class="header-anchor">#</a> 2.10. TS报类型错误</h3> <p>报类型错误，可以直接<code>(pvpapp as any).invoke</code>。</p> <h3 id="_2-11-异步函数调用"><a href="#_2-11-异步函数调用" class="header-anchor">#</a> 2.11. 异步函数调用</h3> <p>异步函数调用的时候不能用<code>await</code>，要用<code>then</code>，不然某些考试编辑器会超时。</p> <h3 id="_2-12-查看npm全局包下载路径"><a href="#_2-12-查看npm全局包下载路径" class="header-anchor">#</a> 2.12. 查看npm全局包下载路径</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 查看全局包下载路径</span>
$ <span class="token function">npm</span> root <span class="token parameter variable">-g</span>

<span class="token comment"># 查看命令下载路径</span>
$ <span class="token function">npm</span> bin <span class="token parameter variable">-g</span>
</code></pre></div><h3 id="_2-13-插槽"><a href="#_2-13-插槽" class="header-anchor">#</a> 2.13. 插槽</h3> <p>插槽就是在组件引用的内部增加额外的内容，比如一个子组件名字是<code>Comp</code>，父组件这样使用：<code>&lt;Comp&gt;hello&lt;/Comp&gt;</code>，<code>hello</code>所处的位置就是<code>slot</code>插槽。</p> <h3 id="_2-14-实现一个任务调度器-将多个任务依次执行-并且上一个任务的结果作为下一个任务的参数"><a href="#_2-14-实现一个任务调度器-将多个任务依次执行-并且上一个任务的结果作为下一个任务的参数" class="header-anchor">#</a> 2.14. 实现一个任务调度器，将多个任务依次执行，并且上一个任务的结果作为下一个任务的参数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">taskRunner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// TODO</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">step1</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">1-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">step2</span><span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">2-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token keyword">const</span> task <span class="token operator">=</span> <span class="token function">taskRunner</span><span class="token punctuation">(</span>step1<span class="token punctuation">,</span> step2<span class="token punctuation">)</span>

<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">task</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>实现：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">taskRunner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token operator">...</span>steps<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> tempRes<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> steps<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> step <span class="token operator">=</span> steps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        tempRes <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        tempRes <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">step</span><span class="token punctuation">(</span>tempRes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> tempRes<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> task <span class="token operator">=</span> <span class="token function">taskRunner</span><span class="token punctuation">(</span>step1<span class="token punctuation">,</span> step2<span class="token punctuation">)</span>

<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">task</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

res<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// res 2-1-0</span>
</code></pre></div><h3 id="_2-15-将对象的key由下划线转为驼峰-只转化key"><a href="#_2-15-将对象的key由下划线转为驼峰-只转化key" class="header-anchor">#</a> 2.15. 将对象的key由下划线转为驼峰，只转化key</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">toHump</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\_(\w)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> b<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">objToHump</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  cache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>

  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newKey <span class="token operator">=</span> <span class="token function">toHump</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">[</span>newKey<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">cObj</span> <span class="token operator">=&gt;</span> <span class="token function">objToHump</span><span class="token punctuation">(</span>cObj<span class="token punctuation">,</span> cache<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">[</span>newKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">objToHump</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> cache<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      res<span class="token punctuation">[</span>newKey<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a_apple_p</span><span class="token operator">:</span> <span class="token string">'aa'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">a_apple_q</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a_k_c</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">a_apple_u</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a_apple_h</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">a_apple_i</span><span class="token operator">:</span> <span class="token string">'123'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">a_apple_t</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">a_k_c</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">dd_dd_dd</span><span class="token operator">:</span> <span class="token string">'3'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">a_k_d</span><span class="token operator">:</span> <span class="token string">'5'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">dd_dd_de</span><span class="token operator">:</span> <span class="token string">'6'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span>t_t_t <span class="token operator">=</span> obj<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">objToHump</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * {
      aAppleP: 'aa',
      aAppleQ: { aKC: '1' },
      aAppleU: { aAppleH: { aAppleI: '123' } },
      aAppleT: [ { aKC: '2', ddDdDd: '3' }, { aKD: '5', ddDdDe: '6' } ],
      tTT: [Circular *1]
    }
 */</span>
</code></pre></div><h3 id="_2-16-理解-typescript-中-any-和-unknown"><a href="#_2-16-理解-typescript-中-any-和-unknown" class="header-anchor">#</a> 2.16. 理解 TypeScript 中 any 和 unknown</h3> <h4 id="_2-16-1-1-any"><a href="#_2-16-1-1-any" class="header-anchor">#</a> 2.16.1. （1）Any</h4> <p>any 类型类似于纯 JavaScript 的工作方式。我们有时可能需要描述一个我们根本不知道类型的变量。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> uncertain<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'Hello world'</span><span class="token operator">!</span><span class="token punctuation">;</span>
uncertain <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
uncertain <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function-variable function">hello</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'Hello world!'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>在 TypeScript 中，任何东西可以赋值给 any 。它通常被称为 top type 。</p> <blockquote><p>any 和 unknown 的最大区别是, unknown 是 top type (任何类型都是它的 subtype) , 而 any 即是 top type, 又是 bottom type (它是任何类型的 subtype ) , 这导致 any 基本上就是放弃了任何类型检查.</p></blockquote> <p>any 破坏了 TypeScript 的类型检查，会引起错误：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> uncertain<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'Hello world!'</span><span class="token punctuation">;</span>
uncertain<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>下面是更接近实际的例子：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> dog<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'Fluffy'</span><span class="token punctuation">,</span>
 <span class="token function-variable function">sayHello</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'woof woof'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

dog<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_2-16-2-2-unknown"><a href="#_2-16-2-2-unknown" class="header-anchor">#</a> 2.16.2. （2）Unknown</h4> <p>TypeScript 3.0中引入的 unknown 类型也被认为是 top type ，但它更安全。与 any 一样，所有类型都可以分配给unknown。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> uncertain<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token operator">!</span><span class="token punctuation">;</span>
uncertain <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
uncertain <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function-variable function">hello</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'Hello!'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>我们只能将 unknown 类型的变量赋值给 any 和 unknown。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> uncertain<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token operator">!</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> notSure<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> uncertain<span class="token punctuation">;</span>
</code></pre></div><p>它确实在很多方面不同于 any 类型。如果不缩小类型，就无法对 unknown 类型执行任何操作。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">getDog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token string">'22'</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> dog<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token function">getDog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dog<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Object is of type 'unknown'</span>
</code></pre></div><h5 id="_2-16-2-1-a-使用类型断言缩小未知范围"><a href="#_2-16-2-1-a-使用类型断言缩小未知范围" class="header-anchor">#</a> 2.16.2.1. a. 使用类型断言缩小未知范围</h5> <p>上述机制具有很强的预防性，但对我们的限制过于有限。要对未知类型执行某些操作，首先需要使用类型断言来缩小范围。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> <span class="token function-variable function">getDogName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> dogName <span class="token operator">=</span> <span class="token function">getDogName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dogName <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在上面的代码中，我们强制TypeScript编译器相信我们知道自己在做什么。</p> <p>以上的一个重要缺点是它只是一个假设。它没有运行时效果，也不能防止我们在不小心的情况下造成错误。比如下面的代码, 他实际上是错误的, 但却可以通过 typescript 的检测.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> <span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token builtin">number</span> <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>TypeScript编译器接收到我们的数字是一个字符串的假设，因此它并不反对这样处理它。</p> <h5 id="_2-16-2-2-b-使用类型收缩"><a href="#_2-16-2-2-b-使用类型收缩" class="header-anchor">#</a> 2.16.2.2. b. 使用类型收缩</h5> <p>一种更类型安全的缩小未知类型的方法是使用 类型收缩 。TypeScript 编译器会分析我们的代码，并找出一个更窄的类型。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> dogName <span class="token operator">=</span> <span class="token function">getDogName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> dogName <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dogName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在上面的代码中，我们在运行时检查了 dogName 变量的类型。因此，我们可以确保只在 dogName 是变量时调用 toLowerCase函数。</p> <p>除了使用 typeof，我们还可以使用 instanceof 来缩小变量的类型。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">getAnimal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token function">getAnimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>dog <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在上面的代码中，我们确保只有在变量是某个原型的实例时才调用dog.name.toLowerCase。TypeScript编译器理解这一点，并假设类型。</p> <h5 id="_2-16-2-3-c-联合类型中的-unknown-类型"><a href="#_2-16-2-3-c-联合类型中的-unknown-类型" class="header-anchor">#</a> 2.16.2.3. c. 联合类型中的 unknown 类型</h5> <p>在联合类型中，unknown 类型会吸收任何类型。这就意味着如果任一组成类型是 unknown，联合类型也会相当于 unknown：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">UnionType1</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>       <span class="token comment">// unknown</span>
<span class="token keyword">type</span> <span class="token class-name">UnionType2</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>  <span class="token comment">// unknown</span>
<span class="token keyword">type</span> <span class="token class-name">UnionType3</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">;</span>     <span class="token comment">// unknown</span>
<span class="token keyword">type</span> <span class="token class-name">UnionType4</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">// unknown</span>
</code></pre></div><p>这条规则的一个意外是 any 类型。如果至少一种组成类型是 any，联合类型会相当于 any：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">UnionType5</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token builtin">any</span><span class="token punctuation">;</span>  <span class="token comment">// any</span>
</code></pre></div><p>为什么 unknown 可以吸收任何类型（any 类型除外）？让我们来想想 unknown | string 这个例子。这个类型可以表示任何 unkown 类型或者 string 类型的值。就像我们之前了解到的，所有类型的值都可以被定义为 unknown 类型，其中也包括了所有的 string 类型，因此，unknown | string 就是表示和 unknown 类型本身相同的值集。因此，编译器可以将联合类型简化为 unknown 类型。</p> <h5 id="_2-16-2-4-d-交叉类型中的-unknown-类型"><a href="#_2-16-2-4-d-交叉类型中的-unknown-类型" class="header-anchor">#</a> 2.16.2.4. d. 交叉类型中的 unknown 类型</h5> <p>在交叉类型中，任何类型都可以吸收 unknown 类型。这意味着将任何类型与 unknown 相交不会改变结果类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">IntersectionType1</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token keyword">null</span><span class="token punctuation">;</span>       <span class="token comment">// null</span>
<span class="token keyword">type</span> <span class="token class-name">IntersectionType2</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>  <span class="token comment">// undefined</span>
<span class="token keyword">type</span> <span class="token class-name">IntersectionType3</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>     <span class="token comment">// string</span>
<span class="token keyword">type</span> <span class="token class-name">IntersectionType4</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">// number[]</span>
<span class="token keyword">type</span> <span class="token class-name">IntersectionType5</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>        <span class="token comment">// any</span>
</code></pre></div><p>让我们回顾一下 IntersectionType3：unknown &amp; string 类型表示所有可以被同时赋值给 unknown 和 string 类型的值。由于每种类型都可以赋值给 unknown 类型，所以在交叉类型中包含 unknown 不会改变结果。我们将只剩下 string 类型。</p> <h5 id="_2-16-2-5-e-示例-从-localstorage-中读取json"><a href="#_2-16-2-5-e-示例-从-localstorage-中读取json" class="header-anchor">#</a> 2.16.2.5. e. 示例：从 localStorage 中读取JSON</h5> <p>这是一个使用 unknown 类型的真实例子。</p> <p>假设我们要编写一个从 localStorage 读取值并将其反序列化为 JSON 的函数。如果该项不存在或者是无效 JSON，则该函数应返回错误结果，否则，它应该反序列化并返回值。</p> <p>因为我们不知道在反序列化持久化的 JSON 字符串后我们会得到什么类型的值。我们将使用 unknown 作为反序列化值的类型。这意味着我们函数的调用者必须在对返回值执行操作之前进行某种形式的检查（或者使用类型断言）。</p> <p>实现如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Result</span> <span class="token operator">=</span>
  <span class="token operator">|</span> <span class="token punctuation">{</span> success<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token punctuation">}</span>
  <span class="token operator">|</span> <span class="token punctuation">{</span> success<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> error<span class="token operator">:</span> Error <span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">function</span> <span class="token function">tryDeserializeLocalStorageItem</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> Result <span class="token punctuation">{</span>
  <span class="token keyword">const</span> item <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
  <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// The item does not exist, thus return an error result</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      success<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      error<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Item with key &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; does not exist</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 
  <span class="token keyword">let</span> value<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
 
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    value <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// The item is not valid JSON, thus return an error result</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      success<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      error
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 
  <span class="token comment">// Everything's fine, thus return a success result</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    success<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    value
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>tryDeserializeLocalStorageItem 的函数调用者在尝试使用 value 或 error 属性之前必须首先检查 success 属性：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">tryDeserializeLocalStorageItem</span><span class="token punctuation">(</span><span class="token string">&quot;dark_mode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// We've narrowed the `success` property to `true`,</span>
  <span class="token comment">// so we can access the `value` property</span>
  <span class="token keyword">const</span> darkModeEnabled<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> result<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
 
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> darkModeEnabled <span class="token operator">===</span> <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// We've narrowed the `unknown` type to `boolean`,</span>
    <span class="token comment">// so we can safely use `darkModeEnabled` as a boolean</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Dark mode enabled: &quot;</span> <span class="token operator">+</span> darkModeEnabled<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// We've narrowed the `success` property to `false`,</span>
  <span class="token comment">// so we can access the `error` property</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>请注意，tryDeserializeLocalStorageItem 函数不能简单地通过返回 null 来表示反序列化失败，原因如下：</p> <ol><li>null 值是一个有效的 JSON 值。因此，我们无法区分是对值 null 进行了反序列化，还是由于缺少参数或语法错误而导致整个操作失败。</li> <li>如果我们从函数返回 null，我们无法同时返回错误。因此，我们函数的调用者不知道操作失败的原因。</li></ol> <h4 id="_2-16-3-3-小结"><a href="#_2-16-3-3-小结" class="header-anchor">#</a> 2.16.3. （3）小结</h4> <p>unknown 类型要安全得多，因为它迫使我们执行额外的类型检查来对变量执行操作。</p> <p>参考：</p> <ol><li><a href="https://blog.51cto.com/u_13691366/3266274" target="_blank" rel="noopener noreferrer">[译] 理解 TypeScript 中 any 和 unknown<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/weixin_33716557/article/details/93177689" target="_blank" rel="noopener noreferrer">[译] TypeScript 3.0: unknown 类型<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <h3 id="_2-17-填写promise的返回值类型"><a href="#_2-17-填写promise的返回值类型" class="header-anchor">#</a> 2.17. 填写Promise的返回值类型</h3> <p>介绍完 unknown 类型后，看下下面这个题：</p> <p>lib.d.ts：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">SomeProp</span> <span class="token operator">=</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">getSomeProp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>SomeProp<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p>main.ts：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getSomeProp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./lib'</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 请实现下面这个类型，使得下面的 `main` 函数能通过 TypeScript 的类型检查。
 * 注意：不能修改 lib.d.ts 文件。
 */</span>
<span class="token keyword">type</span> <span class="token class-name">Result</span> <span class="token operator">=</span> <span class="token comment">/* REPLACE */</span> <span class="token builtin">any</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res<span class="token operator">:</span> Result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getSomeProp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这里我的理解是 unknown 类型的变量只能赋值给 any 或 unknown，那么这里不是 any 也就是 unknown 了。</p> <h3 id="_2-18-passive-event-listeners"><a href="#_2-18-passive-event-listeners" class="header-anchor">#</a> 2.18. Passive Event Listeners</h3> <p>addEventListener()：大家都是认识的，为dom添加触发事件。</p> <p>在早期addEventListener是这样的：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> listener<span class="token punctuation">,</span> useCapture<span class="token punctuation">)</span>
</code></pre></div><p>useCapture:是否允许事件捕捉，但是很少会传true，然后就变成可选项了：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> listener<span class="token punctuation">[</span><span class="token punctuation">,</span> useCapture <span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>到现在就变成了这个样子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> listener<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">capture</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//捕获</span>
    <span class="token literal-property property">passive</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">once</span><span class="token operator">:</span> <span class="token boolean">false</span>    <span class="token comment">//只触发一次</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>如果我们在 touchstart 事件调用 preventDefault 会怎样呢？这时页面会禁止，不会滚动或缩放。那么问题来了：浏览器无法预先知道一个监听器会不会调用 preventDefault()，它需要等监听器执行完后，再去执行默认行为，而监听器执行是要耗时的，这样就会导致页面卡顿。</p> <p>当你触摸滑动页面时，页面应该跟随手指一起滚动。而此时你绑定了一个 touchstart 事件，你的事件大概执行 200 毫秒。这时浏览器就犯迷糊了：如果你在事件绑定函数中调用了 preventDefault，那么页面就不应该滚动，如果你没有调用 preventDefault，页面就需要滚动。但是你到底调用了还是没有调用，浏览器不知道。只能先执行你的函数，等 200 毫秒后，绑定事件执行完了，浏览器才知道，“哦，原来你没有阻止默认行为，好的，我马上滚”。此时，页面开始滚。</p> <p>当浏览器等待执行事件的默认行为时，大部分情况是白等了。如果 Web 开发者能够提前告诉浏览器：“我不调用 preventDefault 函数来阻止事件事件行为”，那么浏览器就能快速生成事件，从而提升页面性能。</p> <p>Chrome官方有个视频测试：https://www.youtube.com/watch?v=NPM6172J22g</p> <p>而 passive 就是为此而生的。在 WICG 的 demo 中提到，即使滚动事件里面写一个死循环，浏览器也能够正常处理页面的滑动。</p> <p>在最新的 DOM 规范中，事件绑定函数的第三个参数变成了对象：</p> <div class="language-js extra-class"><pre class="language-js"><code>target<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> listener<span class="token punctuation">[</span><span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>我们可以通过传递 passive 为 true 来明确告诉浏览器，事件处理程序不会调用 preventDefault 来阻止默认滑动行为。</p> <p>在 Chrome 浏览器中，如果发现耗时超过 100 毫秒的非 passive 的监听器，会在 DevTools 里面警告你加上 <code>{passive: true}</code>。</p> <p>参考：</p> <ol><li><a href="https://zhuanlan.zhihu.com/p/24555031" target="_blank" rel="noopener noreferrer">移动Web滚动性能优化: Passive event listeners<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/w993263495/article/details/85009761" target="_blank" rel="noopener noreferrer">passive的作用和原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/dj0379/article/details/52883315" target="_blank" rel="noopener noreferrer">让页面滑动流畅得飞起的新特性：Passive Event Listeners<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <h3 id="_2-19-chrome渲染原理"><a href="#_2-19-chrome渲染原理" class="header-anchor">#</a> 2.19. Chrome渲染原理</h3> <p>上面的参考文章中，讲到了Chrome的渲染过程中的几个概念：</p> <ul><li>绘制（Paint）：将绘制操作转换成为图像的过程（比如软件模式下经过光栅化生成位图，硬件模式下经过光栅化生成纹理）。在Chrome中，绘制分为两部分实现：绘制操作记录部分（main-thread side）和绘制实现部分（impl-side）。绘制记录部分将绘制操作记录到SKPicture中，绘制实现部分负责将SKPicture进行光栅化转成图像；</li> <li>图层（Paint Layer）：在Chrome中，页面的绘制是分层绘制的，页面内容变化的时候，浏览器仅需要重新绘制内容变化的图层，没有变化的图层不需要重新绘制；</li> <li>合成（Composite）：将绘制好的图层图像混合在一起生成一张最终的图像显示在屏幕上的过程；</li> <li>渲染（Render）：可以简单认为渲染等价于绘制+合成；</li> <li>UI线程（UI Thread）：浏览器的主线程，负责接收到系统派发给浏览器窗口的事件、资源下载等；</li> <li>内核线程（Main/Render Thread）：Blink内核及V8引擎运行的线程，如DOM树构建、元素布局、绘制（main-thread side）、JavaScript执行等逻辑在该线程中执行；</li> <li>合成线程（Compositor Thread）：负责图像合成的线程，如绘制（impl-side），合成等逻辑在该线程中执行。</li></ul> <h4 id="_2-19-1-1-单线程渲染框架"><a href="#_2-19-1-1-单线程渲染框架" class="header-anchor">#</a> 2.19.1. （1）单线程渲染框架</h4> <p>内核线程几乎包揽了页面内容渲染的所有工作，如JavaScript执行，元素布局，图层绘制，图层图像合成等，每项工作的执行耗时基本都跟页面内容相关，耗时一般在几十毫秒至几百毫秒不等。</p> <img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/chrome-single-thread-render.png" width="500"> <h4 id="_2-19-2-2-线程化渲染框架"><a href="#_2-19-2-2-线程化渲染框架" class="header-anchor">#</a> 2.19.2. （2）线程化渲染框架</h4> <img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/chrome-multi-thread-render.png" width="500"> <p>在Chrome的线程化渲染框架中，当内核线程完成第1帧（Frame#1）的布局和记录绘制操作，立即通知合成线程对第一帧（Frame#1）进行渲染，然后内核线程就开始准备第2帧（Frame#2）的布局和记录绘制操作。由此可以看出，内核线程在进行第N+1帧的布局和记录绘制操作同时，合成线程也在努力进行第N帧的渲染并交给屏幕展示，这里利用了CPU多核的特性进行并发处理，因此提高了页面的渲染效率。由此也可知，实际上用户看到的页面内容，是上一帧的内容快照，新的一帧还在处理中。</p> <h3 id="_2-20-配置-webpack-的-loader"><a href="#_2-20-配置-webpack-的-loader" class="header-anchor">#</a> 2.20. 配置 Webpack 的 loader</h3> <h4 id="_2-20-1-1-配置规则rule的条件"><a href="#_2-20-1-1-配置规则rule的条件" class="header-anchor">#</a> 2.20.1. （1）配置规则Rule的条件</h4> <p><code>Rule.test</code></p> <p>筛选资源，符合条件的资源让这项规则中的loader处理。</p> <p>除了test，还可以用</p> <ul><li>Rule.include（包含）</li> <li>Rule.exclude（排除）</li> <li>Rule.resource（可以在里面配置test、include、exclude子选项，上面三个其实是它的快捷选项）</li> <li>Rule.issuer（匹配的不是资源路径，而是引入资源的文件的路径）</li> <li>Rule.resourceQuery（匹配资源引入路径上从问号开始的部分）</li></ul> <p>来匹配。</p> <p>这些规则可以同时使用，同时使用时，是“与”的关系。必须同时符合以上所有配置的条件才可以让这项规则中的loader处理。</p> <h4 id="_2-20-2-2-配置规则rule的loader"><a href="#_2-20-2-2-配置规则rule的loader" class="header-anchor">#</a> 2.20.2. （2）配置规则Rule的loader</h4> <ul><li><code>Rule.use</code></li> <li><code>Rule.loader</code></li></ul> <ol><li><code>use: ['style-loader']</code>其实是<code>use: [ { loader: 'style-loader'} ]</code>的简写。</li> <li><code>loader: 'css-loader'</code> 是 <code>use: [ { loader: 'css-loader'} ]</code>的简写。</li></ol> <p>参考：<a href="https://juejin.cn/post/6847902222873788430" target="_blank" rel="noopener noreferrer">『Webpack系列』—— loader配置详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-21-progress-bar-webpack-plugin"><a href="#_2-21-progress-bar-webpack-plugin" class="header-anchor">#</a> 2.21. progress-bar-webpack-plugin</h3> <p>webpack插件，显示构建过程进度条</p> <h3 id="_2-22-babel-plugin-module-resolver"><a href="#_2-22-babel-plugin-module-resolver" class="header-anchor">#</a> 2.22. babel-plugin-module-resolver</h3> <p>模块解析插件</p> <p><code>.babelrc</code>文件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&quot;module-resolver&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;root&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;alias&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token string-property property">&quot;P&quot;</span><span class="token operator">:</span><span class="token string">&quot;./app/p&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>因为<code>.babelrc</code>文件的路径在项目根, 我们指定配置<code>module-resolver的root为&quot;./&quot;</code>，因此我们在使用类似<code>import X from 'path’</code>导入模块的使用可以不指定<code>…/…/</code>这种相对路径, 默认以项目根为模块的搜索路径。也可以使用别名，而不是在项目中使用相对路径。</p> <p>下面举个简单的例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//import Mp from '../../p/MyPropTypes';</span>
<span class="token keyword">import</span> Mp <span class="token keyword">from</span> <span class="token string">'P/MyPropTypes'</span>

<span class="token comment">//import MyUtilFn from '../../../../utils/MyUtilFn';</span>
<span class="token keyword">import</span> MyUtilFn <span class="token keyword">from</span> <span class="token string">'utils/MyUtilFn'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-23-json-templater-string-库"><a href="#_2-23-json-templater-string-库" class="header-anchor">#</a> 2.23. json-templater/string 库</h3> <p>可以进行简单的字符串替换</p> <h3 id="_2-24-react-dev-tools-注入全局变量-react-devtools-global-hook"><a href="#_2-24-react-dev-tools-注入全局变量-react-devtools-global-hook" class="header-anchor">#</a> 2.24. React Dev Tools 注入全局变量 <code>__REACT_DEVTOOLS_GLOBAL_HOOK__</code></h3> <p>当我们使用React Dev Tools时，Dev Tools会向页面注入全局变量__REACT_DEVTOOLS_GLOBAL_HOOK__。</p> <p>这个变量是连接React与Dev Tools的桥梁。</p> <h3 id="_2-25-简写形式-export-default-from-index-vue"><a href="#_2-25-简写形式-export-default-from-index-vue" class="header-anchor">#</a> 2.25. 简写形式：export { default } from './index.vue'</h3> <h4 id="_2-25-1-1-转发-default"><a href="#_2-25-1-1-转发-default" class="header-anchor">#</a> 2.25.1. （1）转发 default</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> comp <span class="token keyword">from</span> <span class="token string">'./index.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> comp
</code></pre></div><p>等于以下形式 ：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./index.vue'</span>
</code></pre></div><h4 id="_2-25-2-2-转发全部"><a href="#_2-25-2-2-转发全部" class="header-anchor">#</a> 2.25.2. （2）转发全部</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'utils'</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">,</span>
  bar
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>等于以下形式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">'utils'</span>
</code></pre></div><h3 id="_2-26-elementui源码中-是如何拿到所有的自定义icon的"><a href="#_2-26-elementui源码中-是如何拿到所有的自定义icon的" class="header-anchor">#</a> 2.26. ElementUI源码中，是如何拿到所有的自定义icon的？</h3> <p>ElementUI源码中，是如何拿到所有的自定义icon的？</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> postcss <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'postcss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> fontFile <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'icon.scss'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> nodes <span class="token operator">=</span> postcss<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>fontFile<span class="token punctuation">)</span><span class="token punctuation">.</span>nodes<span class="token punctuation">;</span>

<span class="token keyword">var</span> classList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

nodes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> selector <span class="token operator">=</span> node<span class="token punctuation">.</span>selector <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.el-icon-([^:]+):before</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> selector<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    classList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-27-前端如何实时监听本地代码文件的修改变动"><a href="#_2-27-前端如何实时监听本地代码文件的修改变动" class="header-anchor">#</a> 2.27. 前端如何实时监听本地代码文件的修改变动？</h3> <p>可以使用chokidar模块</p> <h3 id="_2-28-js-中-replace函数"><a href="#_2-28-js-中-replace函数" class="header-anchor">#</a> 2.28. JS 中 replace函数</h3> <h4 id="_2-28-1-1-replace函数"><a href="#_2-28-1-1-replace函数" class="header-anchor">#</a> 2.28.1. （1）replace函数</h4> <p>replace方法的第二个参数是函数的时候，函数的第一个参数是匹配模式的字符串。接下来的参数是与模式中的子表达式匹配的字符串，可以有 0 个或多个这样的参数。</p> <p>如下面第三个例子中，<code>camelize('abc-def-xyz')</code>打印信息为</p> <div class="language- extra-class"><pre class="language-text"><code>-d d
-x x
</code></pre></div><h4 id="_2-28-2-2-例子"><a href="#_2-28-2-2-例子" class="header-anchor">#</a> 2.28.2. （2）例子</h4> <ol><li>在本例中，我们将把所有的花引号替换为直引号：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>name <span class="token operator">=</span> <span class="token string">'&quot;a&quot;, &quot;b&quot;'</span><span class="token punctuation">;</span>

name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&quot;([^&quot;]*)&quot;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;'$1'&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>在本例中，我们将把字符串中所有单词的首字母都转换为大写：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>name <span class="token operator">=</span> <span class="token string">'aaa bbb ccc'</span><span class="token punctuation">;</span>

uw<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b\w+\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">word</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>中线改驼峰</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> camelizeRE <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">-(\w)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">camelize</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">str</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">:</span> string <span class="token punctuation">{</span>
  <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>camelizeRE<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
     c<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-29-nodejs中如何获取换行符"><a href="#_2-29-nodejs中如何获取换行符" class="header-anchor">#</a> 2.29. NodeJS中如何获取换行符</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> endOfLine <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token constant">EOL</span>
</code></pre></div><h3 id="_2-30-vuepress的-displayallheaders-及-sidebardepth-不生效-原因h1标题后必须接h2-不能直接跨到h3"><a href="#_2-30-vuepress的-displayallheaders-及-sidebardepth-不生效-原因h1标题后必须接h2-不能直接跨到h3" class="header-anchor">#</a> 2.30. Vuepress的 displayAllHeaders 及 sidebarDepth 不生效，原因h1标题后必须接h2，不能直接跨到h3</h3> <h3 id="_2-31-vuepress的sidebar配置数组形式时-目录的readme-md如何配置"><a href="#_2-31-vuepress的sidebar配置数组形式时-目录的readme-md如何配置" class="header-anchor">#</a> 2.31. Vuepress的sidebar配置数组形式时，目录的README.md如何配置？</h3> <p>解决：需要写成'/pmd-tools/'或者'/pmd-tools/index'，写成'/pmd-tools'或者'/pmd-tools/README'无效</p> <h3 id="_2-32-v-imapge-preview插件图片不清晰"><a href="#_2-32-v-imapge-preview插件图片不清晰" class="header-anchor">#</a> 2.32. v-imapge-preview插件图片不清晰？</h3> <p>原因：设置的基准width太小了，同一张图片，即使用transform的scale放大，也比直接设置width为原始值模糊。解决：将基准width设置为图片原始宽度</p> <h3 id="_2-33-vscode要使eslint-plugin-vue对vue文件生效-需要写tsconfig-json文件"><a href="#_2-33-vscode要使eslint-plugin-vue对vue文件生效-需要写tsconfig-json文件" class="header-anchor">#</a> 2.33. VScode要使eslint-plugin-vue对vue文件生效，需要写tsconfig.json文件</h3> <h3 id="_2-34-vue-test-utils的setdata不会改变引用地址"><a href="#_2-34-vue-test-utils的setdata不会改变引用地址" class="header-anchor">#</a> 2.34. vue-test-utils的setData不会改变引用地址？</h3> <p>如果组件内两个变量已经指向了同一地址，setData的方式无法让其不相等，可以用<code>wrapper.vm.tempSelectRole = {}</code>改变值</p> <h3 id="_2-35-vue-mixin不生效-找不到getlocation-删除子模块的node-modules就可以了"><a href="#_2-35-vue-mixin不生效-找不到getlocation-删除子模块的node-modules就可以了" class="header-anchor">#</a> 2.35. vue.mixin不生效，找不到getLocation，删除子模块的node_modules就可以了</h3> <p>推测是如果安装了子模块的 node_modules，vue 就会从子模块里取得，而 main.js 的 vue.mixin 会优先找当前目录下的node_modules 的 vue，所以两个 vue 引用位置不同，导致不生效。</p> <h3 id="_2-36-如何不改变代码-而模拟游戏内环境"><a href="#_2-36-如何不改变代码-而模拟游戏内环境" class="header-anchor">#</a> 2.36. 如何不改变代码，而模拟游戏内环境？</h3> <p>方法：修改User agent，chrome开发者工具 =&gt; 右上角... =&gt; More tools =&gt; Network Conditions =&gt; ingame...</p> <h3 id="_2-37-touchmove事件一旦滚动-无法中途停止-即在内部调用event-preventdefault时-会报错。"><a href="#_2-37-touchmove事件一旦滚动-无法中途停止-即在内部调用event-preventdefault时-会报错。" class="header-anchor">#</a> 2.37. touchmove事件一旦滚动，无法中途停止，即在内部调用event.preventDefault时，会报错。</h3> <p>解决：想模拟中断滚动，可以让元素的scrollTop始终为一定值。</p> <h3 id="_2-38-vue-的script使用typescript时-报json解析错误。解决-通过排查发现是tsconfig-json中-lib-没有引入-scripthost-导致。"><a href="#_2-38-vue-的script使用typescript时-报json解析错误。解决-通过排查发现是tsconfig-json中-lib-没有引入-scripthost-导致。" class="header-anchor">#</a> 2.38. vue 的script使用typescript时，报JSON解析错误。解决：通过排查发现是tsconfig.json中 lib 没有引入 scripthost 导致。</h3> <h3 id="_2-39-vue-lazyload重复请求图片"><a href="#_2-39-vue-lazyload重复请求图片" class="header-anchor">#</a> 2.39. <code>vue-lazyload</code>重复请求图片？</h3> <p>原因：页面主动设置了<code>disable-cache</code>。解决方法：允许使用缓存。</p> <h3 id="_2-40-react源码中用二进制表示mode"><a href="#_2-40-react源码中用二进制表示mode" class="header-anchor">#</a> 2.40. React源码中用二进制表示mode</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0b000</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">0b001</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">0b010</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token number">0b100</span>

<span class="token keyword">var</span> mode <span class="token operator">=</span> a 

<span class="token comment">// 判断是否包含模式b</span>
mode <span class="token operator">&amp;</span> b <span class="token comment">// 0</span>

<span class="token comment">// 添加模式b</span>
mode <span class="token operator">|=</span> b  <span class="token comment">// 1 (0b001)</span>

<span class="token comment">// 添加模式c</span>
mode <span class="token operator">|=</span> c <span class="token comment">// 3 (0b011)</span>
</code></pre></div><p>二进制或运算符<code>(|)</code>：如果两个符号位都为0，则结果为0，否则为1</p> <h3 id="_2-41-js获取上一个兄弟元素"><a href="#_2-41-js获取上一个兄弟元素" class="header-anchor">#</a> 2.41. js获取上一个兄弟元素</h3> <p>需要用到的两个属性：previousSbiling和previousElementSibling</p> <ol><li><p>previousSibling：获取元素的上一个兄弟节点；（既包含元素节点、文本节点、注释节点）</p></li> <li><p>previousElementSibling：获取上一个兄弟元素节点；（只包含元素节点）；</p></li></ol> <p>区别如下图：</p> <p><img src="https://github.com/novlan1/technical-blog/blob/main/imgs/previousSibling.jpg?raw=true" alt="https://github.com/novlan1/technical-blog/blob/main/imgs/previousSibling.jpg"></p> <p>所以一般我们会用previousElementSibling</p> <p>参考：<a href="https://www.cnblogs.com/Mrrabbit/p/8591558.html" target="_blank" rel="noopener noreferrer">js获取上一个兄弟元素<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-42-npm查看包的版本信息"><a href="#_2-42-npm查看包的版本信息" class="header-anchor">#</a> 2.42. npm查看包的版本信息</h3> <h4 id="_2-42-1-远程包"><a href="#_2-42-1-远程包" class="header-anchor">#</a> 2.42.1. 远程包</h4> <h5 id="_2-42-1-1-1-查看npm服务器上所有的jquery版本信息"><a href="#_2-42-1-1-1-查看npm服务器上所有的jquery版本信息" class="header-anchor">#</a> 2.42.1.1. (1) 查看npm服务器上所有的jquery版本信息</h5> <div class="language- extra-class"><pre class="language-text"><code>npm view jquery versions
</code></pre></div><h5 id="_2-42-1-2-2-查看jquery的最新版本是哪个"><a href="#_2-42-1-2-2-查看jquery的最新版本是哪个" class="header-anchor">#</a> 2.42.1.2. (2) 查看jquery的最新版本是哪个</h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> view jquery version
</code></pre></div><h5 id="_2-42-1-3-3-和第一种方式类似-也能查看jquery所有版本-但能查出更多关于jquery的信息"><a href="#_2-42-1-3-3-和第一种方式类似-也能查看jquery所有版本-但能查出更多关于jquery的信息" class="header-anchor">#</a> 2.42.1.3. (3) 和第一种方式类似，也能查看jquery所有版本，但能查出更多关于jquery的信息</h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> info jquery
</code></pre></div><h4 id="_2-42-2-本地包"><a href="#_2-42-2-本地包" class="header-anchor">#</a> 2.42.2. 本地包</h4> <h5 id="_2-42-2-1-1-查看本地下载的jquery版本信息"><a href="#_2-42-2-1-1-查看本地下载的jquery版本信息" class="header-anchor">#</a> 2.42.2.1. (1) 查看本地下载的jquery版本信息</h5> <div class="language- extra-class"><pre class="language-text"><code>npm ls jquery
</code></pre></div><h5 id="_2-42-2-2-2-查看全局安装的jquery"><a href="#_2-42-2-2-2-查看全局安装的jquery" class="header-anchor">#</a> 2.42.2.2. (2) 查看全局安装的jquery</h5> <div class="language- extra-class"><pre class="language-text"><code>npm ls jquery -g
</code></pre></div><h3 id="_2-43-npm为什么要设置代理-设置镜像源不就行了吗-两者有什么区别"><a href="#_2-43-npm为什么要设置代理-设置镜像源不就行了吗-两者有什么区别" class="header-anchor">#</a> 2.43. npm为什么要设置代理,设置镜像源不就行了吗,两者有什么区别?</h3> <p>代理的话，是设置代理服务器，代理服务器帮你转发下载请求；</p> <p>镜像源的话，是镜像站点已经提前镜像(下载)了所有的npm包，你是直接从它的服务器上获取到的包。</p> <p>参考： <a href="https://segmentfault.com/q/1010000017507867" target="_blank" rel="noopener noreferrer">npm 代理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-44-报错信息-error-tunneling-socket-while-executing-npm-install"><a href="#_2-44-报错信息-error-tunneling-socket-while-executing-npm-install" class="header-anchor">#</a> 2.44. 报错信息：Error 'tunneling socket' while executing npm install</h3> <p>解决：取消代理设置</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> proxy null
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> https-proxy null
</code></pre></div><p>参考：<a href="https://stackoverflow.com/questions/33162560/error-tunneling-socket-while-executing-npm-install" target="_blank" rel="noopener noreferrer">error-tunneling-socket-while-executing-npm-install<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-45-shims-vue-d-ts-解析"><a href="#_2-45-shims-vue-d-ts-解析" class="header-anchor">#</a> 2.45. shims-vue.d.ts 解析</h3> <p><strong>shims-vue.d.ts</strong>文件</p> <div class="language-js extra-class"><pre class="language-js"><code>declare module <span class="token string">'*.vue'</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>  <span class="token comment">// 引用了type和value (value是Vue构造器 type是Vue interface)</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> Vue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在TypeScript编译器解析 <code>import ‘aaa’ from xxx.vue</code> 的时候</p> <p>拿到 <code>node_modules/vue/</code> 目录下 <code>index.d.ts</code> 中<code>export default</code>出来的<code>type</code>和<code>value</code>， type是Vue接口，value是 const Vue，这个常量的类型是VueConstructor</p> <p><img src="https://github.com/novlan1/technical-blog/blob/main/imgs/shims-vue.d.ts.png?raw=true" alt="demo page">
(图中是从'vue'中import中得到的type和 value)</p> <p>一个import 能同时import到两个东西，import了一种type 还import了一个value，参考<a href="https://www.typescriptlang.org/docs/handbook/declaration-files/deep-dive.html" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>我们来看vue.d.ts:</p> <p><img src="https://github.com/novlan1/technical-blog/blob/main/imgs/vue.d.ts.png?raw=true" alt="vue.d.ts.png"></p> <p>23行导出了type Vue， 129行导出了 value Vue 这两个东西都被export default出来了 当你import的时候 就拿到了这两个东西，并且改成了你import的名字。</p> <p>参考：<a href="https://www.cnblogs.com/eret9616/p/11308470.html" target="_blank" rel="noopener noreferrer">shims-vue.d.ts 解析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-46-promise-版本的-jsonp"><a href="#_2-46-promise-版本的-jsonp" class="header-anchor">#</a> 2.46. Promise 版本的 JSONP</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">jsonp</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token comment">// 初始化url</span>
    <span class="token keyword">const</span> dataString <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'?'</span> <span class="token operator">:</span> <span class="token string">'&amp;'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> callbackName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">jsonpCB_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    url <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dataString<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">callback=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>callbackName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 有请求参数，依次添加到url</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> k <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        url <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&amp;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> jsNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    jsNode<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>

    <span class="token comment">// 触发callback，触发后删除js标签和绑定在window上的callback</span>
    window<span class="token punctuation">[</span>callbackName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> window<span class="token punctuation">[</span>callbackName<span class="token punctuation">]</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>jsNode<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'没有返回数据'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// js加载异常的情况</span>
    jsNode<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> window<span class="token punctuation">[</span>callbackName<span class="token punctuation">]</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>jsNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'JavaScript资源加载失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 添加js节点到document上时，开始请求</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>jsNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token string">'http://192.168.0.103:8081/jsonp'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'heiheihei'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><p>参考：<a href="https://www.jianshu.com/p/43b48648c730?utm_source=oschina-app" target="_blank" rel="noopener noreferrer">手写一个JSONP(promise封装)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-47-switch-中一旦-case-匹配-就会一次执行后面的代码-直到遇到-break"><a href="#_2-47-switch-中一旦-case-匹配-就会一次执行后面的代码-直到遇到-break" class="header-anchor">#</a> 2.47. switch 中一旦 case 匹配，就会一次执行后面的代码，直到遇到 break</h3> <h4 id="_2-47-1-1、switch-中一旦-case-匹配-就会一次执行后面的代码-直到遇到-break"><a href="#_2-47-1-1、switch-中一旦-case-匹配-就会一次执行后面的代码-直到遇到-break" class="header-anchor">#</a> 2.47.1. 1、switch 中一旦 case 匹配，就会一次执行后面的代码，直到遇到 break</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上题的打印顺序是：000122</p> <h4 id="_2-47-2-2、无论default位置在前还是在后-都是先判断各个case-最后才进default"><a href="#_2-47-2-2、无论default位置在前还是在后-都是先判断各个case-最后才进default" class="header-anchor">#</a> 2.47.2. 2、无论default位置在前还是在后，都是先判断各个case, 最后才进default</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">default</span><span class="token operator">:</span>
    text <span class="token operator">=</span> <span class="token string">'期待周末！'</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>
    text <span class="token operator">=</span> <span class="token string">'今天是周六'</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
    text <span class="token operator">=</span> <span class="token string">'今天是周日'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上题中：text 为 '今天是周日'</p> <h3 id="_2-48-js实现滚动区域触底事件"><a href="#_2-48-js实现滚动区域触底事件" class="header-anchor">#</a> 2.48. JS实现滚动区域触底事件</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">isReachBottom</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">reachBottomDistance</span><span class="token operator">:</span> <span class="token number">100</span>
      <span class="token literal-property property">scrollHeight</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">offsetHeight</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 页面加载完成后  将高度存储起来</span>
    <span class="token keyword">let</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.comment-area .comment-list'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollHeight <span class="token operator">=</span> dom<span class="token punctuation">.</span>scrollHeight
    <span class="token keyword">this</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>dom<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">onScroll</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> scrollTop <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>scrollTop
        <span class="token keyword">let</span> currentHeight <span class="token operator">=</span> scrollTop <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reachBottomDistance

        <span class="token keyword">if</span><span class="token punctuation">(</span>currentHeight <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollHeight <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isReachBottom<span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>isReachBottom <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isReachBottom<span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>currentHeight <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>isReachBottom <span class="token operator">=</span> <span class="token boolean">true</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'触底'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>监听滚动事件，从 event 上取得 scrollTop 信息，而不是全局的 page</p> <p>参考：<a href="https://www.cnblogs.com/chanwahfung/p/12540114.html" target="_blank" rel="noopener noreferrer">JS实现滚动区域触底事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-49-touchmove-实时获取当前元素"><a href="#_2-49-touchmove-实时获取当前元素" class="header-anchor">#</a> 2.49. touchmove 实时获取当前元素</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 根据坐标直接返回元素 document.elementFromPoint()</span>

<span class="token keyword">const</span> ele <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">elementFromPoint</span><span class="token punctuation">(</span>touch<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> touch<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span><span class="token punctuation">;</span>   
</code></pre></div><p>eg:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'ul li'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'touchmove touchstart'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
  <span class="token keyword">const</span> touch <span class="token operator">=</span> e<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>targetTouches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> ele <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">elementFromPoint</span><span class="token punctuation">(</span>touch<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> touch<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>参考：</p> <ol><li><a href="https://www.cnblogs.com/mrt-yyy/p/5946258.html" target="_blank" rel="noopener noreferrer">touchmove 实时获取当前元素<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/elementFromPoint" target="_blank" rel="noopener noreferrer">Document.elementFromPoint()-MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <h3 id="_2-50-js-产生正态分布随机数"><a href="#_2-50-js-产生正态分布随机数" class="header-anchor">#</a> 2.50. JS 产生正态分布随机数</h3> <p>有一个称为 <a href="https://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform" target="_blank" rel="noopener noreferrer">Box-Muller (1958)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 转换的算法能够将两个在区间（0,1] 的均匀分布转化为标准正态分布，其公式为：</p> <p>y1 = sqrt( - 2 ln(u) ) cos( 2 pi v )</p> <p>y2 = sqrt( - 2 ln(u) ) sin( 2 pi v )</p> <p>因为三角函数计算较慢，我们可以通过上述公式的一个 polar form（极坐标形式）能够简化计算，</p> <p>代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getNumberInNormalDistribution</span><span class="token punctuation">(</span><span class="token parameter">mean<span class="token punctuation">,</span>std_dev</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> mean<span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">randomNormalDistribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>std_dev<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">randomNormalDistribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> u<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> v<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> w<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">;</span>
    <span class="token keyword">do</span><span class="token punctuation">{</span>
        <span class="token comment">//获得两个（-1,1）的独立随机变量</span>
        u<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1.0</span><span class="token punctuation">;</span>
        v<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1.0</span><span class="token punctuation">;</span>
        w<span class="token operator">=</span>u<span class="token operator">*</span>u<span class="token operator">+</span>v<span class="token operator">*</span>v<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span>w<span class="token operator">==</span><span class="token number">0.0</span><span class="token operator">||</span>w<span class="token operator">&gt;=</span><span class="token number">1.0</span><span class="token punctuation">)</span>
    <span class="token comment">//这里就是 Box-Muller转换</span>
    c<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//返回2个标准正态分布的随机数，封装进一个数组返回</span>
    <span class="token comment">//当然，因为这个函数运行较快，也可以扔掉一个</span>
    <span class="token comment">//return [u*c,v*c];</span>
    <span class="token keyword">return</span> u<span class="token operator">*</span>c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>参考：<a href="https://www.cnblogs.com/zztt/p/4025207.html" target="_blank" rel="noopener noreferrer">Javascript 随机数函数 学习之二：产生服从正态分布随机数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-51-npmrc文件-npm-配置文件"><a href="#_2-51-npmrc文件-npm-配置文件" class="header-anchor">#</a> 2.51. .npmrc文件，npm 配置文件</h3> <p>项目根目录下的.npmrc文件：</p> <div class="language- extra-class"><pre class="language-text"><code>registry=http://registry.npmjs.org/
</code></pre></div><p>可以实现，仅仅对于这个项目，换npm的源了</p> <h3 id="_2-52-nodejs-可以直接读取-json-文件"><a href="#_2-52-nodejs-可以直接读取-json-文件" class="header-anchor">#</a> 2.52. NodeJS 可以直接读取 .json 文件</h3> <p>示例如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./config.json'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span>config<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span>config<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
</code></pre></div><p>参考：<a href="https://blog.csdn.net/duansamve/article/details/89787480" target="_blank" rel="noopener noreferrer">nodejs中 require 方法的加载规则<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-53-adb命令"><a href="#_2-53-adb命令" class="header-anchor">#</a> 2.53. ADB命令</h3> <p>ADB，全称为Android Debug Bridge，它是 Android 开发/测试人员不可替代的强大工具。</p> <ul><li>查看ADB版本：adb version</li> <li>查看手机设备：adb devices</li> <li>查看设备型号：adb shell getprop ro.product.model</li> <li>查看电池信息：adb shell dumpsys battery</li> <li>查看设备ID：adb shell settings get secure android_id</li> <li>查看设备IMEI：adb shell dumpsys iphonesubinfo</li> <li>查看Android版本：adb shell getprop ro.build.version.release</li> <li>查看手机网络信息：adb shell ifconfig</li> <li>查看设备日志：adb logcat</li> <li>重启手机设备：adb reboot</li> <li>安装一个apk：adb install /path/demo.apk</li> <li>卸载一个apk：adb uninstall <package></package></li> <li>查看系统运行进程：adb shell ps</li> <li>查看系统磁盘情况：adb shell ls /path/</li> <li>手机设备截屏：adb shell screencap -p /sdcard/aa.png</li> <li>手机文件下载到电脑：adb pull /sdcard/aa.png ./</li> <li>电脑文件上传到手机：adb push aa.png /data/local/</li> <li>手机设备录像：adb shell screenrecord /sdcard/ab.mp4</li> <li>手机屏幕分辨率：adb shell wm size</li> <li>手机屏幕密度：adb shell wm density</li> <li>手机屏幕点击：adb shell input tap xvalue yvalue</li> <li>手机屏幕滑动：adb shell input swipe 1000 1500 200 200</li> <li>手机屏幕带时间滑动：adb shell input swipe 1000 1500 0 0 1000</li> <li>手机文本输入：adb shell input text xxxxx</li> <li>手机键盘事件：adb shell input keyevent xx</li> <li>连接多个手机设备时，指定手机设备：adb -s serialNumber <command></command></li></ul> <p>参考：<a href="https://zhuanlan.zhihu.com/p/41381658" target="_blank" rel="noopener noreferrer">MAC系统下ADB入门与简单使用<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-54-chrome-跨域的方式"><a href="#_2-54-chrome-跨域的方式" class="header-anchor">#</a> 2.54. Chrome 跨域的方式</h3> <h4 id="_2-54-1-windows-电脑-chrome-跨域的方式"><a href="#_2-54-1-windows-电脑-chrome-跨域的方式" class="header-anchor">#</a> 2.54.1. Windows 电脑 Chrome 跨域的方式</h4> <p>在chrome的快捷方式上右键，在属性后面加上：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">--</span>disable<span class="token operator">-</span>web<span class="token operator">-</span>security <span class="token operator">--</span>user<span class="token operator">-</span>data<span class="token operator">-</span>dir<span class="token operator">=</span><span class="token constant">C</span><span class="token operator">:</span>\MyChromeDevUserData
</code></pre></div><h4 id="_2-54-2-mac-电脑-chrome-跨域的方式"><a href="#_2-54-2-mac-电脑-chrome-跨域的方式" class="header-anchor">#</a> 2.54.2. Mac 电脑 Chrome 跨域的方式</h4> <p>最后文件夹为自己主目录，一进来的目录，切换zsh，用pwd可以查看</p> <div class="language- extra-class"><pre class="language-text"><code>open -n /Applications/Google\ Chrome.app/ --args --disable-web-security  --user-data-dir=/Users/liyuquan/Documents/MyChromeDevUserData
</code></pre></div><p>参考：<a href="https://blog.csdn.net/qq_19734597/article/details/104062061" target="_blank" rel="noopener noreferrer">Windows10 Google浏览器的跨域设置——包括版本49前后两种设置
<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-55-js字符串和-dom-互相转化"><a href="#_2-55-js字符串和-dom-互相转化" class="header-anchor">#</a> 2.55. JS字符串和 DOM 互相转化</h3> <p>JS字符串转DOM：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">parseDom</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> objE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    objE<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> arg<span class="token punctuation">;</span>
    <span class="token keyword">return</span> objE<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>DOM转字符串：</p> <ul><li>直接调用<code>dom.innerHTML()</code></li></ul> <p>参考：<a href="https://www.cnblogs.com/lxg0/p/5976909.html" target="_blank" rel="noopener noreferrer">js 字符串转dom 和dom 转字符串<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-56-用http的方式链接远程仓库-有时会经常要求输入密码-用ssh则不用"><a href="#_2-56-用http的方式链接远程仓库-有时会经常要求输入密码-用ssh则不用" class="header-anchor">#</a> 2.56. 用HTTP的方式链接远程仓库，有时会经常要求输入密码，用SSH则不用</h3> <p>参考：<a href="https://www.cnblogs.com/xiaohaodeboke/p/12617776.html" target="_blank" rel="noopener noreferrer">git使用指令git push origin master报错remote: Invalid username or password. fatal: Authentication failed for<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-57-tagname和nodename的区别"><a href="#_2-57-tagname和nodename的区别" class="header-anchor">#</a> 2.57. tagName和nodeName的区别</h3> <p>首先介绍DOM里常见的三种节点类型（总共有12种，如docment）：<strong>元素节点，属性节点以及文本节点</strong>，例如<code>&lt;h2 class=&quot;title&quot;&gt;head&lt;/h2&gt;</code>，其中h2是元素节点，class是属性节点，head是文本节点，在这里你可以说h2这个元素节点包含一个属性节点和一个文本节点。其实几乎所有HTML的标签都是元素节点，而id, title, class等则是属性节点，而元素所包含的文本内容则是文本节点。</p> <p>tagName和nodeName的语义是一样的，都是返回所包含标签的名称，例如上面的h2标签，都是返回h2，但是tagName只能在元素标签上使用，而nodeName则可以在所有的节点上使用。</p> <p>总结：tagName只能用在元素节点上，而nodeName可以用在任何节点上，可以说nodeName涵盖了tagName，并且具有更多的功能，因此建议总是使用nodeName。</p> <p>参考：<a href="https://blog.csdn.net/borishuai/article/details/5719227" target="_blank" rel="noopener noreferrer">tagName和nodeName的区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-58-npm-link的使用"><a href="#_2-58-npm-link的使用" class="header-anchor">#</a> 2.58. npm link的使用</h3> <ol><li>假如开发的包的名称是<code>module-a</code>，进入<code>module-a</code>主目录，执行<code>npm link</code>。</li> <li>进入项目目录，执行<code>npm link module-a</code></li></ol> <p>参考：<a href="https://www.jianshu.com/p/aaa7db89a5b2" target="_blank" rel="noopener noreferrer">npm link的使用<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-59-node获取当前路径的三种方法"><a href="#_2-59-node获取当前路径的三种方法" class="header-anchor">#</a> 2.59. node获取当前路径的三种方法</h3> <ul><li>__dirname</li> <li>process.cwd()</li> <li>path.resolve(./)</li></ul> <p>区别如下：</p> <ul><li>__dirname：返回运行文件所在的目录</li> <li>path.resolve('./')：当前命令所在的目录</li> <li>process.cwd()：当前命令所在的目录</li></ul> <p>参考：<a href="https://www.cnblogs.com/founderswitch/p/10310203.html" target="_blank" rel="noopener noreferrer">node获取当前路径的三种方法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-60-chrome-devtools-network-timing-查看请求在各个阶段对应的时间"><a href="#_2-60-chrome-devtools-network-timing-查看请求在各个阶段对应的时间" class="header-anchor">#</a> 2.60. Chrome DevTools — Network - Timing：查看请求在各个阶段对应的时间</h3> <ul><li><p>Queueing：浏览器会在以下情况对请求进行排队：</p> <ul><li>有更高优先级的请求</li> <li>在这个域下，已经有6个TCP连接了，达到Chrome最大限制数量。此条规则仅适用在HTTP/1.0和HTTP/1.1</li></ul></li> <li><p>Stalled：Queueing中的任何一个因素发生都会导致该请求被拖延</p></li> <li><p>Proxy negotiation：浏览器与代理服务器协商消耗的时间</p></li> <li><p>DNS Lookup：浏览器对请求的IP地址进行DNS查找所消耗的时间</p></li> <li><p>Initial conncection：发起连接所消耗的时间</p></li> <li><p>Request sent：请求发送消耗的时间</p></li> <li><p>Waiting (TTFB)：浏览器等待响应的时间，TTFB表示 Time To First Byte</p></li> <li><p>Content Download：资源下载所消耗的时间</p></li></ul> <p><img src="https://github.com/novlan1/technical-blog/blob/main/imgs/chrome-network-timing.jpeg?raw=true" alt="network-timing"></p> <p>参考：</p> <ul><li><a href="https://developers.google.com/web/tools/chrome-devtools/network/reference#timing" target="_blank" rel="noopener noreferrer">Chrome 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://segmentfault.com/a/1190000008407729" target="_blank" rel="noopener noreferrer">Chrome DevTools — Network<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="_2-61-js-exec-方法-执行正则表达式匹配"><a href="#_2-61-js-exec-方法-执行正则表达式匹配" class="header-anchor">#</a> 2.61. JS exec()方法：执行正则表达式匹配</h3> <p>在非全局模式下，exec() 方法返回的数组与 String.match() 方法返回的数组是相同的。</p> <p>在全局模式下，exec() 方法与 String.match() 方法返回的结果不同。当调用 exec() 方法时，会为正则表达式对象定义 lastIndex 属性，执行执行下一次匹配的起始位置，同时返回匹配数组，与非全局模式下的数组结构相同；而 String.match() 仅返回匹配文本组成的数组，没有附加信息。</p> <p>因此，在全局模式下获取完整的匹配信息只能使用 exec() 方法。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">&quot;JavaScript&quot;</span><span class="token punctuation">;</span>  <span class="token comment">//测试使用的字符串直接量</span>
<span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\w</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>  <span class="token comment">//匹配模式</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//循环执行匹配操作</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;匹配文本 = &quot;</span> <span class="token operator">+</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;    a.index = &quot;</span> <span class="token operator">+</span> a<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token string">&quot;    r.lastIndex = &quot;</span> <span class="token operator">+</span> r<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//显示每次匹配后返回的数组信息</span>
<span class="token punctuation">}</span>
<span class="token comment">// 匹配文本 = J    a.index = 0    r.lastIndex = 1</span>
<span class="token comment">// ...</span>
</code></pre></div><p>参考：<a href="http://c.biancheng.net/view/5616.html" target="_blank" rel="noopener noreferrer">JS exec()方法：执行正则表达式匹配<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-62-【webpack】中library的作用"><a href="#_2-62-【webpack】中library的作用" class="header-anchor">#</a> 2.62. 【webpack】中library的作用</h3> <p>webpack默认打包之后的代码形式是这样的（假设我导出 module.exports = 'hello world' ）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hello world'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>注意：代码是一个自执行函数，外界想获取函数里面的返回值怎么办（也就是模块的导出结果 hello world ），那么就需要配置一个 library</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">'./src/utils.js'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">'result'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后打包之后是这样的形式</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hello world'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>通过把导出的结果赋值给 result 变量，配置了 library: 'result'</p> <p>将打包之后的文件引入到HTML文件中，可以直接使用哦！（假设打包的文件名是bundle.js）</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./dist/bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果你不想在HTML中使用，想在一个JS文件里面通过 require 导入来使用，需要这么配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">'./src/utils.js'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">libraryTarget</span><span class="token operator">:</span> <span class="token string">'commonjs2'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>打包之后代码是这样的</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hello world'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>可以在JS文件中导入来使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> result <span class="token keyword">from</span> <span class="token string">'./bundle'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre></div><p>同时支持import和require语法引入</p> <p>两个配置同时使用，生效的是第二种模式</p> <p>参考：<a href="https://www.cnblogs.com/wuxianqiang/p/11324078.html" target="_blank" rel="noopener noreferrer">【webpack】中library的作用<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/coding-everyday/article/日常笔记/基础笔记-杂项.html" class="prev">
        基础笔记-杂项
      </a></span> <span class="next"><a href="/coding-everyday/article/日常笔记/日常笔记-B.html">
        日常笔记-B
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/coding-everyday/assets/js/app.bc494c39.js" defer></script><script src="/coding-everyday/assets/js/2.a8a94c78.js" defer></script><script src="/coding-everyday/assets/js/424.995f3680.js" defer></script>
  </body>
</html>
