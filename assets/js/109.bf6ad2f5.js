(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{414:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("ul",[s("li",[s("a",{attrs:{href:"#1-varlet-%E5%8F%8A-const-%E5%8C%BA%E5%88%AB"}},[t._v("1. var、let 及 const 区别？")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#2-es6-%E4%B8%AD%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%B8%8E%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"}},[t._v("2. ES6 中箭头函数与普通函数的区别？")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#21-%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90%E9%A2%98"}},[t._v("2.1. 代码分析题")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#3-generator-%E7%94%9F%E6%88%90%E5%99%A8"}},[t._v("3. Generator 生成器")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#31-yield-%E8%A1%A8%E8%BE%BE%E5%BC%8F"}},[t._v("3.1. yield 表达式")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#32-next-%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0"}},[t._v("3.2. next 方法的参数")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#33-generator-%E4%B8%8E%E4%B8%8A%E4%B8%8B%E6%96%87-%E5%8E%9F%E7%90%86"}},[t._v("3.3. Generator 与上下文 （原理）")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#4-%E6%9C%80%E5%BF%AB%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84"}},[t._v("4. 最快合并两个数组")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#5-%E7%AE%80%E8%BF%B0js%E4%B8%AD-for-in-%E4%B8%8E-for-of-%E5%8C%BA%E5%88%AB"}},[t._v("5. 简述js中 "),s("code",[t._v("for in")]),t._v(" 与 "),s("code",[t._v("for of")]),t._v(" 区别")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#6-%E5%AF%B9%E6%AF%94foreachfor-infor-of"}},[t._v("6. 对比"),s("code",[t._v("forEach")]),t._v("、"),s("code",[t._v("for in")]),t._v("、"),s("code",[t._v("for of")])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#61-foreach"}},[t._v("6.1. "),s("code",[t._v("forEach")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#62-for-in"}},[t._v("6.2. "),s("code",[t._v("for in")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#63-for-of"}},[t._v("6.3. "),s("code",[t._v("for of")])])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#7-%E5%AE%9E%E7%8E%B0promise%E6%97%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E7%82%B9"}},[t._v("7. 实现promise时需要注意的点")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#8-es6-%E4%B8%AD%E7%9A%84-class-%E7%9A%84-this-%E6%8C%87%E5%90%91"}},[t._v("8. ES6 中的 class 的 this 指向")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#9-promiseresolve123%E5%80%9F%E7%94%A8promise%E7%9A%84%E5%BD%A2%E5%BC%8F%E7%BB%9F%E4%B8%80%E4%BB%A3%E7%A0%81"}},[t._v("9. "),s("code",[t._v("Promise.resolve([123])")]),t._v("，借用promise的形式，统一代码")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#10-%E5%A6%82%E6%9E%9C%E4%B8%A4%E4%B8%AA%E6%96%B9%E6%B3%95%E5%A4%84%E7%90%86%E9%94%99%E8%AF%AF%E7%9A%84%E6%96%B9%E5%BC%8F%E7%9B%B8%E5%90%8C%E5%A6%82%E4%BD%95%E7%94%A8promise%E5%B0%81%E8%A3%85"}},[t._v("10. 如果两个方法处理错误的方式相同，如何用Promise封装？")])])]),t._v(" "),s("h3",{attrs:{id:"_1-var、let-及-const-区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-var、let-及-const-区别"}},[t._v("#")]),t._v(" 1. var、let 及 const 区别？")]),t._v(" "),s("ul",[s("li",[t._v("全局声明的 var 变量会挂载在 window 上，而 let 和 const 不会")]),t._v(" "),s("li",[t._v("同一作用域下，let 和 const 不允许重复声明同一个变量，而 var 可以")]),t._v(" "),s("li",[t._v("let、const 的作用范围是块级作用域，而 var 的作用范围是函数和全局作用域")]),t._v(" "),s("li",[t._v("var 声明变量存在变量提升，let 和 const 不会")]),t._v(" "),s("li",[t._v("同一作用域下，在 let 和 const 声明前使用会存在暂时性死区")]),t._v(" "),s("li",[t._v("const\n"),s("ul",[s("li",[t._v("一旦声明必须赋值")]),t._v(" "),s("li",[t._v("声明后不能再修改")]),t._v(" "),s("li",[t._v("如果声明的是引用类型数据，可以修改其属性")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-es6-中箭头函数与普通函数的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-es6-中箭头函数与普通函数的区别"}},[t._v("#")]),t._v(" 2. ES6 中箭头函数与普通函数的区别？")]),t._v(" "),s("ul",[s("li",[t._v("普通 function 的声明在变量提升中是最高的，箭头函数没有函数提升")]),t._v(" "),s("li",[t._v("箭头函数没有属于自己的 this，箭头函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。")]),t._v(" "),s("li",[t._v("箭头函数没有"),s("code",[t._v("arguments")])]),t._v(" "),s("li",[t._v("箭头函数不能作为构造函数，不能被 new，没有 property")]),t._v(" "),s("li",[t._v("箭头函数没有"),s("strong",[t._v("原型属性")])]),t._v(" "),s("li",[t._v("不可以使用 yield 命令，因此箭头函数不能用作 Generator 函数")]),t._v(" "),s("li",[t._v("不可以使用 new 命令，因为：\n"),s("ul",[s("li",[t._v("没有自己的 this，无法调用 call，apply")]),t._v(" "),s("li",[t._v("没有 prototype 属性 ，而 new 命令在执行时需要将构造函数的 prototype 赋值给新的对象的 "),s("code",[t._v("__proto__")])])])]),t._v(" "),s("li",[t._v("普通函数的this指向调用它的那个对象")])]),t._v(" "),s("h4",{attrs:{id:"_2-1-代码分析题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-代码分析题"}},[t._v("#")]),t._v(" 2.1. 代码分析题")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" z "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" z"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("timeEnd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("答案： 输出耗时： 1 秒多一点点。 原因： 3 个 wait 函数在赋值的时候就已经开始执行了。")]),t._v(" "),s("p",[t._v("稍微改造一下就可以得到 3 * 1000 ms 以上的结果")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" z "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("timeEnd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"_3-generator-生成器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-generator-生成器"}},[t._v("#")]),t._v(" 3. Generator 生成器")]),t._v(" "),s("h4",{attrs:{id:"_3-1-yield-表达式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-yield-表达式"}},[t._v("#")]),t._v(" 3.1. yield 表达式")]),t._v(" "),s("p",[t._v("Generator 函数返回一个"),s("strong",[t._v("遍历器对象")]),t._v("，只有调用next方法才会遍历下一个内部状态，遍历器对象的next方法的运行逻辑如下。")]),t._v(" "),s("ol",[s("li",[t._v("遇到"),s("code",[t._v("yield")]),t._v("表达式，就暂停执行后面的操作，并将"),s("strong",[t._v("紧跟在"),s("code",[t._v("yield")]),t._v("后面的那个表达式的值，作为返回的对象的"),s("code",[t._v("value")]),t._v("属性值")]),t._v("。")]),t._v(" "),s("li",[t._v("下一次调用"),s("code",[t._v("next")]),t._v("方法时，再继续往下执行，直到遇到下一个"),s("code",[t._v("yield")]),t._v("表达式。")]),t._v(" "),s("li",[t._v("如果没有再遇到新的"),s("code",[t._v("yield")]),t._v("表达式，就一直运行到函数结束，直到"),s("code",[t._v("return")]),t._v("语句为止，并将"),s("code",[t._v("return")]),t._v("语句后面的表达式的值，作为返回的对象的"),s("code",[t._v("value")]),t._v("属性值。")]),t._v(" "),s("li",[t._v("如果该函数没有"),s("code",[t._v("return")]),t._v("语句，则返回的对象的"),s("code",[t._v("value")]),t._v("属性值为"),s("code",[t._v("undefined")]),t._v("。")])]),t._v(" "),s("p",[t._v("注意，yield表达式后面的表达式，只有当调用next方法、内部指针指向该语句时才会执行，因此等于为 JavaScript 提供了手动的“惰性求值”（Lazy Evaluation）的语法功能。")]),t._v(" "),s("h4",{attrs:{id:"_3-2-next-方法的参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-next-方法的参数"}},[t._v("#")]),t._v(" 3.2. next 方法的参数")]),t._v(" "),s("p",[s("strong",[s("code",[t._v("yield")]),t._v("表达式本身没有返回值")]),t._v("，或者说总是返回undefined。"),s("strong",[t._v("next方法可以带一个参数，该参数就会被当作上一个yield表达式的返回值")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" z "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" z"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\na"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Object{value:6, done:false}")]),t._v("\na"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Object{value:NaN, done:false}")]),t._v("\na"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Object{value:NaN, done:true}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { value:6, done:false }")]),t._v("\nb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { value:8, done:false }")]),t._v("\nb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { value:42, done:true }")]),t._v("\n")])])]),s("p",[t._v("上面代码中：")]),t._v(" "),s("ul",[s("li",[t._v("第一次调用a的next方法时，返回x+1的值6；")]),t._v(" "),s("li",[t._v("第二次运行next方法的时候不带参数，导致 y 的值等于2 * undefined（即NaN），除以 3 以后还是NaN，因此返回对象的value属性也等于NaN。")]),t._v(" "),s("li",[t._v("第三次运行Next方法的时候不带参数，所以z等于undefined，返回对象的value属性等于5 + NaN + undefined，即NaN。")])]),t._v(" "),s("p",[t._v("下面代码中，由于向next方法提供了参数，返回结果就完全不一样了。")]),t._v(" "),s("ul",[s("li",[t._v("第一次调用b的next方法时，返回x+1的值6；")]),t._v(" "),s("li",[t._v("第二次调用next方法，将上一次yield表达式的值设为12，因此y等于24，返回y / 3的值8；")]),t._v(" "),s("li",[t._v("第三次调用next方法，将上一次yield表达式的值设为13，因此z等于13，这时x等于5，y等于24，所以return语句的值等于42。")])]),t._v(" "),s("p",[t._v("注意：由于next方法的参数表示上一个yield表达式的返回值，所以在"),s("strong",[t._v("第一次使用next方法时，传递参数是无效的")]),t._v("。")]),t._v(" "),s("h4",{attrs:{id:"_3-3-generator-与上下文-原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-generator-与上下文-原理"}},[t._v("#")]),t._v(" 3.3. Generator 与上下文 （原理）")]),t._v(" "),s("p",[t._v("JavaScript 代码运行时，会产生一个全局的上下文环境（context，又称运行环境），包含了当前所有的变量和对象。然后，执行函数（或块级代码）的时候，又会在当前上下文环境的上层，产生一个函数运行的上下文，变成当前（active）的上下文，由此形成一个上下文环境的堆栈（context stack）。")]),t._v(" "),s("p",[t._v("这个堆栈是“后进先出”的数据结构，最后产生的上下文环境首先执行完成，退出堆栈，然后再执行完成它下层的上下文，直至所有代码执行完成，堆栈清空。")]),t._v(" "),s("p",[t._v("Generator 函数不是这样，它执行产生的上下文环境，一旦遇到**"),s("code",[t._v("yield")]),s("strong",[t._v("命令，就会")]),t._v("暂时退出堆栈**，但是"),s("strong",[t._v("并不消失")]),t._v("，"),s("strong",[t._v("里面的所有变量和对象会冻结在当前状态")]),t._v("。等到对它执行**"),s("code",[t._v("next")]),t._v("**命令时，这个上下文环境又会重新加入调用栈，冻结的变量和对象恢复执行。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" g "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("上面代码中，第一次执行"),s("code",[t._v("g.next()")]),t._v("时，"),s("code",[t._v("Generator")]),t._v(" 函数"),s("code",[t._v("gen")]),t._v("的上下文会加入堆栈，即开始运行"),s("code",[t._v("gen")]),t._v("内部的代码。"),s("strong",[t._v("等遇到"),s("code",[t._v("yield 1")]),t._v("时，"),s("code",[t._v("gen")]),t._v("上下文退出堆栈，内部状态冻结")]),t._v("。第二次执行"),s("code",[t._v("g.next()")]),t._v("时，"),s("code",[t._v("gen")]),t._v("上下文重新加入堆栈，变成当前的上下文，重新恢复执行。")]),t._v(" "),s("h3",{attrs:{id:"_4-最快合并两个数组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-最快合并两个数组"}},[t._v("#")]),t._v(" 4. 最快合并两个数组")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arr1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arr2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\narr1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [1, 3, 4, 6] ")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ES6")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("arr1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("arr2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [1, 3, 4, 6]")]),t._v("\n")])])]),s("h3",{attrs:{id:"_5-简述js中-for-in-与-for-of-区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-简述js中-for-in-与-for-of-区别"}},[t._v("#")]),t._v(" 5. 简述js中 "),s("code",[t._v("for in")]),t._v(" 与 "),s("code",[t._v("for of")]),t._v(" 区别")]),t._v(" "),s("ol",[s("li",[t._v("for in是ES5标准，"),s("strong",[t._v("遍历key")]),t._v("，并且可以遍历"),s("strong",[t._v("继承的可枚举的属性")]),t._v("，常用于"),s("strong",[t._v("对象")]),t._v("的遍历。")]),t._v(" "),s("li",[t._v("for of是"),s("strong",[t._v("ES6")]),t._v("标准，"),s("strong",[t._v("遍历value")]),t._v("，常用于"),s("strong",[t._v("数组")]),t._v("的遍历。")])]),t._v(" "),s("h3",{attrs:{id:"_6-对比foreach、for-in、for-of"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-对比foreach、for-in、for-of"}},[t._v("#")]),t._v(" 6. 对比"),s("code",[t._v("forEach")]),t._v("、"),s("code",[t._v("for in")]),t._v("、"),s("code",[t._v("for of")])]),t._v(" "),s("h4",{attrs:{id:"_6-1-foreach"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-foreach"}},[t._v("#")]),t._v(" 6.1. "),s("code",[t._v("forEach")])]),t._v(" "),s("ol",[s("li",[t._v("不能终止循环，"),s("code",[t._v("break")]),t._v("，"),s("code",[t._v("continue")]),t._v("不能使用。")]),t._v(" "),s("li",[t._v("不适应于 字符串，Object。")])]),t._v(" "),s("h4",{attrs:{id:"_6-2-for-in"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-for-in"}},[t._v("#")]),t._v(" 6.2. "),s("code",[t._v("for in")])]),t._v(" "),s("ol",[s("li",[s("code",[t._v("index")]),t._v("索引为字符串型数字，不能直接进行几何运算。")]),t._v(" "),s("li",[t._v("遍历顺序有可能不是按照实际数组的内部顺序。")]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("for in")]),t._v("会遍历数组所有的"),s("strong",[t._v("可枚举属性")]),t._v("，包括原型。")])]),t._v(" "),s("p",[t._v("所以"),s("code",[t._v("for in")]),t._v("更适合遍历对象，不要使用"),s("code",[t._v("for in")]),t._v("遍历数组")]),t._v(" "),s("h4",{attrs:{id:"_6-3-for-of"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-for-of"}},[t._v("#")]),t._v(" 6.3. "),s("code",[t._v("for of")])]),t._v(" "),s("ol",[s("li",[s("code",[t._v("for..of")]),t._v("适用遍历数/数组对象/字符串/map/set等拥有迭代器对象的集合.但是不能遍历对象，因为没有迭代器对象。")]),t._v(" "),s("li",[t._v("与"),s("code",[t._v("forEach()")]),t._v("不同的是，它可以"),s("strong",[t._v("正确响应"),s("code",[t._v("break")]),t._v("、"),s("code",[t._v("continue")]),t._v("和"),s("code",[t._v("return")]),t._v("语句")]),t._v("。")]),t._v(" "),s("li",[s("code",[t._v("for-of")]),t._v("循环不支持普通对象，但如果你想迭代一个对象的属性，你可以用"),s("code",[t._v("for-in")]),t._v("循环（这也是它的本职工作）或内建的"),s("code",[t._v("Object.keys()")]),t._v("方法。")])]),t._v(" "),s("h3",{attrs:{id:"_7-实现promise时需要注意的点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-实现promise时需要注意的点"}},[t._v("#")]),t._v(" 7. 实现promise时需要注意的点")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("New promise")]),t._v("时接收一个"),s("code",[t._v("executor函数")]),t._v("作为参数，该函数立即执行，该函数有两个参数"),s("code",[t._v("resolve")]),t._v("和"),s("code",[t._v("reject")]),t._v("，它俩也是函数。")]),t._v(" "),s("li",[t._v("状态流转，只能从"),s("code",[t._v("pending")]),t._v("转为"),s("code",[t._v("fulfilled")]),t._v("或者"),s("code",[t._v("rejected")]),t._v("，并且不可逆。")]),t._v(" "),s("li",[s("code",[t._v("Promise")]),t._v("拥有一个"),s("code",[t._v("then")]),t._v("方法，接收两个参数"),s("code",[t._v("onFulfilled")]),t._v("和"),s("code",[t._v("onRejected")]),t._v("，分别作为"),s("code",[t._v("promise")]),t._v("成功和失败的回调。所以在"),s("code",[t._v("then")]),t._v("方法中对"),s("code",[t._v("state")]),t._v("进行判断，如果为"),s("code",[t._v("fulfilled")]),t._v("执行"),s("code",[t._v("onFulfilled(value)")]),t._v("，如果为"),s("code",[t._v("rejected")]),t._v("，执行"),s("code",[t._v("onRejected(reason)")]),t._v("。")]),t._v(" "),s("li",[t._v("由于成功值"),s("code",[t._v("value")]),t._v("和失败原因"),s("code",[t._v("reason")]),t._v("是用户在"),s("code",[t._v("executor")]),t._v("通过"),s("code",[t._v("resolve(value)")]),t._v("和"),s("code",[t._v("reject(reason)")]),t._v("传入的，所以设置初始的"),s("code",[t._v("value")]),t._v("和"),s("code",[t._v("reason")]),t._v("为全局变量。")]),t._v(" "),s("li",[t._v("如果是异步调用"),s("code",[t._v("resolve()")]),t._v("，比如放到"),s("code",[t._v("setTimeout")]),t._v("中，需要添加回调函数数组"),s("code",[t._v("onFulfilledCallbacks")]),t._v("和"),s("code",[t._v("onRejectedCallbacks")]),t._v("，并且在"),s("code",[t._v("then")]),t._v("方法中将"),s("code",[t._v("pending")]),t._v("状态的回调放到两个回调数组中(用来存储"),s("code",[t._v("then()")]),t._v("传入的成功和失败的回调)。当用户调用"),s("code",[t._v("resolve()")]),t._v("或"),s("code",[t._v("reject()")]),t._v("的时候，修改"),s("code",[t._v("state")]),t._v("状态时，并从相应的回调数组中取出回调执行。")])]),t._v(" "),s("h3",{attrs:{id:"_8-es6-中的-class-的-this-指向"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-es6-中的-class-的-this-指向"}},[t._v("#")]),t._v(" 8. ES6 中的 class 的 this 指向")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Logger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'there'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("hello ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("text")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" logger "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Logger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//实例化")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("printName "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" logger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//printName")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 报错    VM77:3 Uncaught TypeError: Cannot read property 'print' of undefined")]),t._v("\n\nlogger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不报错  hello there")]),t._v("\n")])])]),s("p",[s("code",[t._v("printName")]),t._v("方法中的"),s("code",[t._v("this")]),t._v(" ，默认指向"),s("code",[t._v("Logger")]),t._v("类的实例化对象，但如上单独使用的时候，"),s("code",[t._v("this")]),t._v("会指向该方法运行时指向的环境。ES6的class内部默认是严格模式，"),s("code",[t._v("this")]),t._v("指向"),s("code",[t._v("undifined")]),t._v("。")]),t._v(" "),s("p",[t._v("解决方案：")]),t._v(" "),s("ol",[s("li",[t._v("在构造方法中绑定this，这样实例化时 this就会指向当前实例")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Logger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("printName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("使用箭头函数")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Logger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("printName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'there'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("3.使用 Proxy， 获取方法的时候，自动绑定this")]),t._v(" "),s("h3",{attrs:{id:"_9-promise-resolve-123-借用promise的形式-统一代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-promise-resolve-123-借用promise的形式-统一代码"}},[t._v("#")]),t._v(" 9. "),s("code",[t._v("Promise.resolve([123])")]),t._v("，借用promise的形式，统一代码")]),t._v(" "),s("p",[s("code",[t._v("()=>{resolve()}")]),t._v("，其实就等于"),s("code",[t._v("resolve")]),t._v("，又比如"),s("code",[t._v("writer.on('error', reject)")])]),t._v(" "),s("h3",{attrs:{id:"_10-如果两个方法处理错误的方式相同-如何用promise封装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-如果两个方法处理错误的方式相同-如何用promise封装"}},[t._v("#")]),t._v(" 10. 如果两个方法处理错误的方式相同，如何用Promise封装？")]),t._v(" "),s("p",[t._v("高阶函数，接收 "),s("code",[t._v("resove")]),t._v(" 和 "),s("code",[t._v("reject")]),t._v(" 两个参数，返回一个函数，函数的参数是"),s("code",[t._v("err、body、statuCode")]),t._v("三个参数。\n调用的时候就只用传两个参数了，否则还要传5个参数。代码清爽")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_handleCallBack")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" statusCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("code")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" statusCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" body "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("参考资料：")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/unclekeith/p/7679503.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("CommonJS模块与ES6模块的区别"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://uwayfly.com/static/docs/index.html#es6/module-loader#CommonJS-%E6%A8%A1%E5%9D%97%E7%9A%84%E5%BE%AA%E7%8E%AF%E5%8A%A0%E8%BD%BD",target:"_blank",rel:"noopener noreferrer"}},[t._v("ES6入门"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/fayin/p/6831071.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("module.exports与exports，export与export default之间的关系和区别"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);