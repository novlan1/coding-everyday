(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{375:function(_,v,e){"use strict";e.r(v);var t=e(14),l=Object(t.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("ul",[v("li",[v("a",{attrs:{href:"#1-%E5%9B%9E%E6%B5%81%E5%92%8C%E9%87%8D%E7%BB%98"}},[_._v("1. 回流和重绘")]),_._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"#11-%E9%92%88%E5%AF%B9%E5%9B%9E%E6%B5%81%E5%92%8C%E9%87%8D%E7%BB%98%E7%9A%84%E4%BC%98%E5%8C%96%E7%82%B9"}},[_._v("1.1. 针对回流和重绘的优化点")])])])])]),_._v(" "),v("h3",{attrs:{id:"_1-回流和重绘"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-回流和重绘"}},[_._v("#")]),_._v(" 1. 回流和重绘")]),_._v(" "),v("p",[_._v("回流("),v("code",[_._v("reflow")]),_._v(")")]),_._v(" "),v("ul",[v("li",[_._v("当"),v("code",[_._v("render tree")]),_._v("中的一部分(或全部)因为元素的"),v("strong",[_._v("规模尺寸，布局，隐藏")]),_._v("等改变而需要重新构建。这就称为回流("),v("code",[_._v("reflow")]),_._v(")")]),_._v(" "),v("li",[_._v("当页面布局和几何属性改变时就需要回流")])]),_._v(" "),v("p",[_._v("重绘("),v("code",[_._v("repaint")]),_._v(")：")]),_._v(" "),v("ul",[v("li",[_._v("当"),v("code",[_._v("render tree")]),_._v("中的一些元素需要更新属性，而这些属性只是影响元素的"),v("strong",[_._v("外观、风格")]),_._v("，而不会影响布局的，比如"),v("code",[_._v("background-color")]),_._v("。则就叫称为重绘。")]),_._v(" "),v("li",[_._v("回流必将引起重绘，而重绘不一定会引起回流")])]),_._v(" "),v("p",[_._v("改革像重绘，革命像回流。")]),_._v(" "),v("h4",{attrs:{id:"_1-1-针对回流和重绘的优化点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-针对回流和重绘的优化点"}},[_._v("#")]),_._v(" 1.1. 针对回流和重绘的优化点")]),_._v(" "),v("ol",[v("li",[_._v("用"),v("code",[_._v("translate")]),_._v("替代"),v("code",[_._v("top")]),_._v("改变")]),_._v(" "),v("li",[_._v("用"),v("code",[_._v("opacity")]),_._v("替代"),v("code",[_._v("visibility")])]),_._v(" "),v("li",[_._v("不要一条一条地修改 DOM 的样式，预先定义好 class，然后修改 DOM 的 "),v("code",[_._v("className")])]),_._v(" "),v("li",[_._v("把 DOM 离线后修改，比如：先把 DOM 给 "),v("code",[_._v("display:none")]),_._v(" (有一次 "),v("code",[_._v("reflow")]),_._v(")，然后你修改100次，然后再把它显示出来")]),_._v(" "),v("li",[_._v("不要把 DOM 结点的属性值放在一个循环里当成循环里的变量")]),_._v(" "),v("li",[_._v("不要使用"),v("code",[_._v("table")]),_._v("布局，可能很小的一个小改动会造成整个"),v("code",[_._v("table")]),_._v("的重新布局（虚拟列表就是用的div）")]),_._v(" "),v("li",[_._v("动画实现的速度的选择")]),_._v(" "),v("li",[_._v("对于动画新建图层")]),_._v(" "),v("li",[_._v("启用 GPU 硬件加速")])])])}),[],!1,null,null,null);v.default=l.exports}}]);