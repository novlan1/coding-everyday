(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{389:function(a,t,s){"use strict";s.r(t);var e=s(25),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("ul",[t("li",[t("a",{attrs:{href:"#1-canvas"}},[a._v("1. Canvas")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#11-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"}},[a._v("1.1. 基本使用")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#12-%E8%8B%A5%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8D%E6%94%AF%E6%8C%81canvas"}},[a._v("1.2. 若浏览器不支持canvas")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#13-canvas%E6%96%B9%E6%B3%95"}},[a._v("1.3. canvas方法")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#14-canvas-%E6%98%AF%E5%9F%BA%E4%BA%8E%E7%8A%B6%E6%80%81%E7%BB%98%E5%88%B6%E7%9A%84%E5%8D%B3%E5%85%88%E5%AE%9A%E4%B9%89%E7%8A%B6%E6%80%81%E5%90%8E%E7%BB%98%E5%88%B6"}},[a._v("1.4. canvas 是基于状态绘制的，即先定义状态，后绘制")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#15-%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%E6%A0%BC%E5%AD%90%E7%B3%BB%E7%BB%9F"}},[a._v("1.5. 绘制一个数字，格子系统")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#16-%E8%87%AA%E5%8A%A8%E7%BB%98%E5%88%B6%E7%9F%A9%E5%BD%A2"}},[a._v("1.6. 自动绘制矩形")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#17-canvas%E7%9A%84save%E4%B8%8Erestore%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%9C%E7%94%A8"}},[a._v("1.7. "),t("code",[a._v("canvas")]),a._v("的"),t("code",[a._v("save")]),a._v("与"),t("code",[a._v("restore")]),a._v("方法的作用")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#18-linecap"}},[a._v("1.8. lineCap")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#19-linejoin"}},[a._v("1.9. lineJoin")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#110-%E7%BB%98%E5%88%B6%E4%BA%94%E8%A7%92%E6%98%9F"}},[a._v("1.10. 绘制五角星")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#111-%E5%9B%BE%E5%BD%A2%E5%8F%98%E6%8D%A2"}},[a._v("1.11. 图形变换")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#112-%E5%8F%98%E6%8D%A2%E7%9F%A9%E9%98%B5"}},[a._v("1.12. 变换矩阵")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#113-%E7%BA%BF%E6%80%A7%E6%B8%90%E5%8F%98%E5%92%8C%E5%BE%84%E5%90%91%E6%B8%90%E5%8F%98"}},[a._v("1.13. 线性渐变和径向渐变")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#114-%E7%BA%BF%E6%80%A7%E6%B8%90%E5%8F%98"}},[a._v("1.14. 线性渐变")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#115-%E5%BE%84%E5%90%91%E6%B8%90%E5%8F%98"}},[a._v("1.15. 径向渐变")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#116-%E4%BD%BF%E7%94%A8%E5%9B%BE%E7%89%87%E7%94%BB%E5%B8%83%E6%88%96%E8%80%85video"}},[a._v("1.16. 使用图片、画布或者video")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#117-%E5%9C%86%E5%BC%A7"}},[a._v("1.17. 圆弧")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#118-%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF"}},[a._v("1.18. 贝塞尔曲线")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#119-%E6%96%87%E5%AD%97%E6%B8%B2%E6%9F%93"}},[a._v("1.19. 文字渲染")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#120-%E8%AE%BE%E7%BD%AEcanvas%E7%9A%84%E9%98%B4%E5%BD%B1"}},[a._v("1.20. 设置canvas的阴影")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#121-globalalpha%E5%92%8Cglobalcompositeoperation"}},[a._v("1.21. "),t("code",[a._v("globalAlpha")]),a._v("和"),t("code",[a._v("globalCompositeOperation")])])]),a._v(" "),t("li",[t("a",{attrs:{href:"#122-clip"}},[a._v("1.22. "),t("code",[a._v("clip")])])]),a._v(" "),t("li",[t("a",{attrs:{href:"#123-%E9%9D%9E%E9%9B%B6%E7%8E%AF%E7%BB%95%E5%8E%9F%E5%88%99---%E5%88%A4%E6%96%AD%E5%9B%BE%E5%BD%A2%E5%86%85%E5%A4%96"}},[a._v("1.23. 非零环绕原则 - 判断图形内、外")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#124-ispointinpath%E5%88%A4%E6%96%AD%E7%82%B9%E6%98%AF%E5%90%A6%E5%9C%A8%E8%B7%AF%E5%BE%84%E5%86%85"}},[a._v("1.24. "),t("code",[a._v("isPointInPath")]),a._v("判断点是否在路径内")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#125-%E8%A7%A3%E5%86%B3canvas%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7"}},[a._v("1.25. 解决canvas浏览器兼容性")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#126-canvas%E5%9B%BE%E5%83%8F"}},[a._v("1.26. Canvas图像")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#127-%E5%87%B8%E5%A4%9A%E8%BE%B9%E5%BD%A2"}},[a._v("1.27. 凸多边形")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#128-drawimage"}},[a._v("1.28. drawImage")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#129-html%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%BB%91%E7%AB%BF%E6%8E%A7%E4%BB%B6"}},[a._v("1.29. html中添加滑竿控件")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#130-%E7%A6%BB%E5%B1%8Fcanvas%E6%8A%80%E6%9C%AF"}},[a._v("1.30. 离屏canvas技术")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#131-%E8%8E%B7%E5%8F%96%E5%9B%BE%E5%83%8F%E5%83%8F%E7%B4%A0"}},[a._v("1.31. 获取图像像素")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#132-%E6%BB%A4%E9%95%9C"}},[a._v("1.32. 滤镜")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#133-%E9%80%9A%E8%BF%87createimagedata%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1"}},[a._v("1.33. 通过"),t("code",[a._v("createImageData")]),a._v("创建一个对象")])])])])]),a._v(" "),t("h2",{attrs:{id:"_1-canvas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-canvas"}},[a._v("#")]),a._v(" 1. Canvas")]),a._v(" "),t("h3",{attrs:{id:"_1-1-基本使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-基本使用"}},[a._v("#")]),a._v(" 1.1. 基本使用")]),a._v(" "),t("ol",[t("li",[a._v("html:")])]),a._v(" "),t("div",{staticClass:"language-html extra-class"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("canvas")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("canvas1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("width")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("800"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("height")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("800"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("canvas")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),t("p",[a._v("canvas的宽高只能写在行内，同时决定"),t("strong",[a._v("画布分辨率的大小")]),a._v("。css里面设定canvas的宽高并不是真正的大小，而是"),t("strong",[a._v("同比缩放")])]),a._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[a._v("js:")])]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" canvas "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" document"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getElementById")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"canvas1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" context "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" canvas "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'2d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//绘图环境")]),a._v("\n")])])]),t("h3",{attrs:{id:"_1-2-若浏览器不支持canvas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-若浏览器不支持canvas"}},[a._v("#")]),a._v(" 1.2. 若浏览器不支持canvas")]),a._v(" "),t("ol",[t("li",[a._v("html"),t("br"),a._v(" "),t("code",[a._v("<canvas>不支持canvas的内容</canvas>")]),a._v("（写在canvas标签的里面）")]),a._v(" "),t("li",[a._v("js")])]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("canvas"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'2d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//判断浏览器是否支持canvas")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//支持")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//不支持")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("alert")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h3",{attrs:{id:"_1-3-canvas方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-canvas方法"}},[a._v("#")]),a._v(" 1.3. canvas方法")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("canvas.width")])]),a._v(" "),t("li",[t("code",[a._v("canvas.height")])]),a._v(" "),t("li",[t("code",[a._v("canvas.getContext('2d')")])])]),a._v(" "),t("h3",{attrs:{id:"_1-4-canvas-是基于状态绘制的-即先定义状态-后绘制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-canvas-是基于状态绘制的-即先定义状态-后绘制"}},[a._v("#")]),a._v(" 1.4. canvas 是基于状态绘制的，即先定义状态，后绘制")]),a._v(" "),t("ol",[t("li",[a._v("起始 "),t("code",[a._v("context.moveTo(100,100)")])]),a._v(" "),t("li",[a._v("终止 "),t("code",[a._v("context.lineTo(700,700)")])]),a._v(" "),t("li",[a._v("线条 "),t("code",[a._v("context.stroke()")])]),a._v(" "),t("li",[a._v("线宽 "),t("code",[a._v("context.lineWidth=5")])]),a._v(" "),t("li",[a._v("线条颜色 "),t("code",[a._v("context.strokeStyle='orange'")])]),a._v(" "),t("li",[a._v("填充颜色 "),t("code",[a._v("context.fillStyle = 'rgba(2,2,2,0.3)'")])]),a._v(" "),t("li",[a._v("填充 "),t("code",[a._v("context.fill()")])]),a._v(" "),t("li",[a._v("既可填充，又可描边")]),a._v(" "),t("li",[a._v("声明开始路径 "),t("code",[a._v("context.beginPath()")])]),a._v(" "),t("li",[a._v("声明结束路径 "),t("code",[a._v("context.closePath()")])])]),a._v(" "),t("h3",{attrs:{id:"_1-5-绘制一个数字-格子系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-绘制一个数字-格子系统"}},[a._v("#")]),a._v(" 1.5. 绘制一个数字，格子系统")]),a._v(" "),t("p",[t("img",{attrs:{src:"/imgs/canvas_draw_one_number.png",alt:"绘制一个数字"}}),a._v("\n设圆的半径为R，圆与圆之间的间距为2px，所以圆所在的正方形格子的边长为"),t("code",[a._v("2*（R+1）")]),a._v("。\n其中x表示起始的横坐标，y表示起始的纵坐标，i表示行数，j表示列数，因此：\n第（i, j）个圆的圆心位置：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CenterX：x+j*2*(R+1)+(R+1)\nCenterY：y+i*2*(R+1)+(R+1)\n")])])]),t("h3",{attrs:{id:"_1-6-自动绘制矩形"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-自动绘制矩形"}},[a._v("#")]),a._v(" 1.6. 自动绘制矩形")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("context.rect(x, y, width, height);")]),a._v("  自动绘制矩形，规划路径")]),a._v(" "),t("li",[t("code",[a._v("context.fillRect(x, y, width, height);")]),a._v("  绘制填充矩形 不但规划路径，还把矩形给画出来")]),a._v(" "),t("li",[t("code",[a._v("context.strokeRect(x, y, width, height);")]),a._v("  绘制矩形边框 不但规划路径，还把矩形给画出来")])]),a._v(" "),t("h3",{attrs:{id:"_1-7-canvas的save与restore方法的作用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-canvas的save与restore方法的作用"}},[a._v("#")]),a._v(" 1.7. "),t("code",[a._v("canvas")]),a._v("的"),t("code",[a._v("save")]),a._v("与"),t("code",[a._v("restore")]),a._v("方法的作用")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("save")]),a._v("：用来保存"),t("code",[a._v("Canvas")]),a._v("的状态。"),t("code",[a._v("save")]),a._v("之后，可以调用"),t("code",[a._v("Canvas")]),a._v("的平移、放缩、旋转、错切、裁剪等操作。")]),a._v(" "),t("li",[t("code",[a._v("restore")]),a._v("：用来恢复"),t("code",[a._v("Canvas")]),a._v("之前保存的状态。防止"),t("code",[a._v("save")]),a._v("后对"),t("code",[a._v("Canvas")]),a._v("执行的操作对后续的绘制有影响。")]),a._v(" "),t("li",[a._v("对"),t("code",[a._v("canvas")]),a._v("中特定元素的旋转平移等操作实际上是对整个画布进行了操作，所以如果不对"),t("code",[a._v("canvas")]),a._v("进行"),t("code",[a._v("save")]),a._v("以及"),t("code",[a._v("restore")]),a._v("，那么每一次绘图都会在上一次的基础上进行操作，最后导致错位。")]),a._v(" "),t("li",[a._v("比如说你相对于起始点每次30度递增旋转，"),t("code",[a._v("30，60，90")]),a._v(".如果不使用save 以及 restore 就会变成"),t("code",[a._v("30, 90, 150")]),a._v("，每一次在前一次基础上进行了旋转。"),t("code",[a._v("save")]),a._v("是入栈，"),t("code",[a._v("restore")]),a._v("是出栈。")])]),a._v(" "),t("h3",{attrs:{id:"_1-8-linecap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-linecap"}},[a._v("#")]),a._v(" 1.8. lineCap")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("lineCap")]),a._v("设置线条的帽子："),t("code",[a._v("butt")]),a._v("（默认）、"),t("code",[a._v("round")]),a._v("、"),t("code",[a._v("square")]),a._v("。后两者绘制出的线条都要长一些（戴上了帽子）。"),t("code",[a._v("lineCap")]),a._v("适用于线条的起始处和结尾处不适用于连接处。")]),a._v(" "),t("li",[a._v("通常绘制一个封闭的多边形用"),t("code",[a._v("beginPath()")]),a._v("和"),t("code",[a._v("closePath()")]),a._v("（推荐），但也可以不用"),t("code",[a._v("closePath()")]),a._v("而用"),t("code",[a._v("lineCap = “square”")]),a._v("来实现")])]),a._v(" "),t("h3",{attrs:{id:"_1-9-linejoin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-linejoin"}},[a._v("#")]),a._v(" 1.9. lineJoin")]),a._v(" "),t("img",{attrs:{src:"/imgs/canvas_linejoin.png",height:"200"}}),a._v(" "),t("p",[a._v("lineJoin： 线条与线条相交的形式")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("miter(default)")]),a._v(" 尖角；")]),a._v(" "),t("li",[t("code",[a._v("bevel")]),a._v(" 方角、斜切；")]),a._v(" "),t("li",[t("code",[a._v("round")]),a._v(" 圆角；")])]),a._v(" "),t("p",[t("code",[a._v("miterLimit")]),a._v(":内角与外角的距离。默认值是10，此属性只有在"),t("code",[a._v('lineJoin = "miter"')]),a._v("下才有效，意思是"),t("code",[a._v("miterLimit >10")]),a._v("，线条连接处自动斜切（"),t("code",[a._v('lineJoin ="bevel"')]),a._v(")")]),a._v(" "),t("h3",{attrs:{id:"_1-10-绘制五角星"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-10-绘制五角星"}},[a._v("#")]),a._v(" 1.10. 绘制五角星")]),a._v(" "),t("p",[t("img",{attrs:{src:"/imgs/canvas_five_angles_star.png",alt:"绘制五角星"}})]),a._v(" "),t("p",[a._v("大圆坐标：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("x: Math.cos((18 + i * 72 - rot) / 180 * Math.PI) * R + x\ny: -Math.sin((18 + i * 72 - rot) / 180 * Math.PI) * R + y\n")])])]),t("p",[a._v("小圆坐标：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("x: Math.cos((54 + i * 72 - rot) / 180 * Math.PI) * r + x\ny: -Math.sin((54 + i * 72 - rot) / 180 * Math.PI) * r + y)\n")])])]),t("p",[a._v("对于任意多边形：\n大圆坐标：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Math.cos((angelStart + i * (360 / pol) - rot) / 180 * Math.PI) * R + x\n-Math.sin((angelStart + i * (360 / pol) - rot) / 180 * Math.PI) * R + y)\n")])])]),t("p",[a._v("小圆坐标：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Math.cos((angelStart + 360 / (pol * 2) + i * (360 / pol) - rot) / 180 * Math.PI) * r + x\n-Math.sin((angelStart + 360 / (pol * 2) + i * (360 / pol) - rot) / 180 * Math.PI) * r + y)\n")])])]),t("p",[a._v("其中，pol角数， rot旋转角度， angelStart起始角度")]),a._v(" "),t("h3",{attrs:{id:"_1-11-图形变换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-11-图形变换"}},[a._v("#")]),a._v(" 1.11. 图形变换")]),a._v(" "),t("p",[a._v("图形变换： 位移、旋转、缩放。\n"),t("code",[a._v("context.translate(x, y);")]),a._v("默认多个"),t("code",[a._v("translate")]),a._v("会叠加。\n"),t("code",[a._v("save();")]),a._v(" "),t("code",[a._v("restore();")]),a._v(" 成对出现，中间绘图状态不会对后面造成影响。")]),a._v(" "),t("p",[t("code",[a._v("scale( sx, sy )")]),a._v("操作具有副作用，表现为不仅对图像的大小进行缩放操作，还对图像的其他数值属性（比如边框的宽度，左上角的坐标等等）进行相应的缩放操作。")]),a._v(" "),t("h3",{attrs:{id:"_1-12-变换矩阵"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-12-变换矩阵"}},[a._v("#")]),a._v(" 1.12. 变换矩阵")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("|a c e|\n|b d f|\n|0 0 1|\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("context.transform(a, b, c, d, e, f);\n/*\n  a:水平缩放(默认值1)\n  b:水平倾斜(默认值0)\n  c:垂直倾斜(默认值0)\n  d:垂直缩放(默认值1)\n  e:水平位移(默认值0)\n  f:垂直位移(默认值0)\n*/\n")])])]),t("p",[t("code",[a._v("context.transform();")]),a._v("可以叠加使用，如果需要重新初始化矩阵变换的值，可以用:\n"),t("code",[a._v("context.setTransform(a, b, c, d, e, f);")]),a._v("//它会使得之前设置的"),t("code",[a._v("context.transform()")]),a._v("失效")]),a._v(" "),t("h3",{attrs:{id:"_1-13-线性渐变和径向渐变"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-13-线性渐变和径向渐变"}},[a._v("#")]),a._v(" 1.13. 线性渐变和径向渐变")]),a._v(" "),t("h3",{attrs:{id:"_1-14-线性渐变"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-14-线性渐变"}},[a._v("#")]),a._v(" 1.14. 线性渐变")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" linearGrad "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("createLinearGradient")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Xstar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("Ystar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("Xend"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("Yend"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 创建线性渐变（起始位置X，Y，结束位置X，Y）；")]),a._v("\ngrd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("addColorStop")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("stop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("color"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//stop是（开始填充）位置(0.0~1.0的数值)，color是要填充的颜色；这个.addColorStop()至少要2个；")]),a._v("\ncontext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("fillStyle "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" linearGrad"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("fillRect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("800")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("800")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 填充的形状，如现在，画布的长宽就是800,800的话，就是填充了整个画布")]),a._v("\n")])])]),t("h3",{attrs:{id:"_1-15-径向渐变"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-15-径向渐变"}},[a._v("#")]),a._v(" 1.15. 径向渐变")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("RadialGradient(x0,y0,r0,x1,y1,r1)")])]),a._v(" "),t("li",[a._v("xy为原点坐标，r为半径")])]),a._v(" "),t("h3",{attrs:{id:"_1-16-使用图片、画布或者video"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-16-使用图片、画布或者video"}},[a._v("#")]),a._v(" 1.16. 使用图片、画布或者video")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("createPattern(img, repeat-style);\nrepeat-style: no-repeat  repeat-x  repeat-y repeat\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("var backgroundImage = new Image()\nbackgroundImage.src = '6.jpg'\nbackgroundImage.onload = function() {\nvar pattern = context.createPattern(backgroundImage, 'repeat')\ncontext.fillStyle = pattern\ncontext.fillRect(0, 0, 800, 800)\n}\n")])])]),t("h3",{attrs:{id:"_1-17-圆弧"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-17-圆弧"}},[a._v("#")]),a._v(" 1.17. 圆弧")]),a._v(" "),t("p",[t("code",[a._v("context.arc(centerx, centery, radius, startingAngle, endingAngle, anticlockwise = false)；")])]),a._v(" "),t("p",[a._v("(圆心x坐标，圆心y坐标，半径的值，从哪一个弧度值为开始，到哪一个弧度值结束，可选参数：默认顺时针方向绘制（false）， 逆时针方向绘制（true）)，")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("beginPath()")]),a._v("和"),t("code",[a._v("closePath()")]),a._v("不必成对出现")]),a._v(" "),t("li",[a._v("用了"),t("code",[a._v("fill()")]),a._v("即使沒有"),t("code",[a._v("context.closePath();")]),a._v("也会自动闭合")])]),a._v(" "),t("img",{attrs:{src:"/imgs/canvas_arc.png",height:"200"}}),a._v(" "),t("p",[t("code",[a._v("arcTo(x1,y1,x2,y2,radius);")]),a._v(" "),t("code",[a._v("arcTo()")]),a._v("另一种弧线绘制方法")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("arcTo")]),a._v("函数将从"),t("code",[a._v("(x0,y0)")]),a._v("开始绘制之后绘制一条弧线，这条弧线和这两个线段所组成的折线相切并且其圆弧的半径为"),t("code",[a._v("radius")])])]),a._v(" "),t("p",[a._v("注意：起始点的坐标是"),t("code",[a._v("(x0 , y0")]),a._v(")此时圆弧还没有开始，终止点的坐标不一定是（x2 , y2）而是和（x1 , y1）（x2 , y2）这条线相切的地方")]),a._v(" "),t("h3",{attrs:{id:"_1-18-贝塞尔曲线"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-18-贝塞尔曲线"}},[a._v("#")]),a._v(" 1.18. 贝塞尔曲线")]),a._v(" "),t("p",[a._v("二次贝塞尔曲线 "),t("code",[a._v("QuadraticCurveTo")]),a._v(" :")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("context.moveTo( x0, y0 );")]),a._v(" 指定初始点")]),a._v(" "),t("li",[t("code",[a._v("context.quadraticCurveTo( x1, y1, x2, y2 );")]),a._v("指定控制点（x1, y1）和终止点（x2, y2）")])]),a._v(" "),t("p",[a._v("贝塞尔三次曲线")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("context.moveTo(x0, y0);")]),a._v(" 起始点")]),a._v(" "),t("li",[t("code",[a._v("context.bezierCurveTo(x1, y1, x2, y2, x3, y3);")]),a._v(" 控制点，控制点，结束点")])]),a._v(" "),t("h3",{attrs:{id:"_1-19-文字渲染"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-19-文字渲染"}},[a._v("#")]),a._v(" 1.19. 文字渲染")]),a._v(" "),t("ul",[t("li",[t("code",[a._v('context.font = "bold 40px Arial"')]),a._v("(粗框,40px大小,字体)")]),a._v(" "),t("li",[t("code",[a._v('context.fillStyle="#058"')]),a._v("颜色")]),a._v(" "),t("li",[t("code",[a._v("context.fillText(string,x,y,[maxlen](文字的最长宽度))")])]),a._v(" "),t("li",[t("code",[a._v("context.strokeText(string,x,y,[maxlen])")]),a._v("只有外边框的文字")])]),a._v(" "),t("p",[a._v("文本水平方向对齐 :")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("context.textAlign(left center right)")]),a._v("，以"),t("code",[a._v("fillText")]),a._v("或"),t("code",[a._v("strokeText")]),a._v("的X值为参考")])]),a._v(" "),t("p",[a._v("文本垂直方向对齐 ：")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("context.textBaseline(top middle bottom ideographic hanging alphabetic)")])]),a._v(" "),t("li",[t("code",[a._v("ideographic")]),a._v("中文、日文等，"),t("code",[a._v("alphabetic")]),a._v("拉丁字母，"),t("code",[a._v("hanging")]),a._v("印度文字")])]),a._v(" "),t("p",[a._v("度量文本：\n用"),t("code",[a._v("context.measureText(String).width")]),a._v("，需要提前确定font状态，目前只能获得宽度不能获得高")]),a._v(" "),t("h3",{attrs:{id:"_1-20-设置canvas的阴影"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-20-设置canvas的阴影"}},[a._v("#")]),a._v(" 1.20. 设置canvas的阴影")]),a._v(" "),t("ul",[t("li",[t("code",[a._v('context.shadowColor="颜色值"；')]),a._v(" 阴影颜色值，可以为任何颜色的表现形式")]),a._v(" "),t("li",[t("code",[a._v("context.shadowOffsetX=value1;")]),a._v(" 水平方向的偏移，值可以为负值，负值则方向相反")]),a._v(" "),t("li",[t("code",[a._v("context.shadowOffsetY=value2;")]),a._v(" 垂直方向的偏移，值可以为负值，负值则方向相反")]),a._v(" "),t("li",[t("code",[a._v("context.shadowBlur=value3;")]),a._v(" 阴影模糊程度，正比例增加")])]),a._v(" "),t("h3",{attrs:{id:"_1-21-globalalpha和globalcompositeoperation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-21-globalalpha和globalcompositeoperation"}},[a._v("#")]),a._v(" 1.21. "),t("code",[a._v("globalAlpha")]),a._v("和"),t("code",[a._v("globalCompositeOperation")])]),a._v(" "),t("ul",[t("li",[t("code",[a._v("globalAlpha")]),a._v("设置全局的透明度")]),a._v(" "),t("li",[t("code",[a._v('ctx.globalCompositeOperation = "source-over"')]),a._v(" (默认，后绘制的图形会压在先绘制的图形上) /"),t("code",[a._v('"destination-over"')]),a._v("(先绘制的图形压在后绘制的图形上")])]),a._v(" "),t("h3",{attrs:{id:"_1-22-clip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-22-clip"}},[a._v("#")]),a._v(" 1.22. "),t("code",[a._v("clip")])]),a._v(" "),t("ul",[t("li",[t("code",[a._v("context.clip()")]),a._v("使用刚才绘制的路径把它剪切为当前的绘制环境")])]),a._v(" "),t("h3",{attrs:{id:"_1-23-非零环绕原则-判断图形内、外"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-23-非零环绕原则-判断图形内、外"}},[a._v("#")]),a._v(" 1.23. 非零环绕原则 - 判断图形内、外")]),a._v(" "),t("p",[a._v("是用来判断哪些区域属于路径内( 计算结果非0，即为路径内 )。")]),a._v(" "),t("ol",[t("li",[a._v("在路径包围的区域中，随便找一点，向外发射一条射线，")]),a._v(" "),t("li",[a._v("和所有围绕它的边相交，")]),a._v(" "),t("li",[a._v("然后开启一个计数器，从0计数，")]),a._v(" "),t("li",[a._v("如果这个射线遇到顺时针围绕，那么+1，")]),a._v(" "),t("li",[a._v("如果遇到逆时针围绕，那么-1，")]),a._v(" "),t("li",[a._v("如果最终值非0，则这块区域在路径内。")])]),a._v(" "),t("h3",{attrs:{id:"_1-24-ispointinpath判断点是否在路径内"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-24-ispointinpath判断点是否在路径内"}},[a._v("#")]),a._v(" 1.24. "),t("code",[a._v("isPointInPath")]),a._v("判断点是否在路径内")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("var x = event.clientX - canvas.getBoundingClientRect().left;//在当前画布上的位置\nvar y = event.clientY - canvas.getBoundingClientRect().top;\n")])])]),t("ul",[t("li",[a._v("canvas标签不能当其他普通div标签用，里面不能内嵌其他元素。")]),a._v(" "),t("li",[a._v("canvas默认是白色的不是透明的。")]),a._v(" "),t("li",[a._v("canvas前面不能放元素，会被遮挡住，应该放在后面，通过绝对定位浮在canvas画布上")])]),a._v(" "),t("p",[a._v("使用prototype来为context添加函数：")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("CancasRenderingContext2D.prototype")])])]),a._v(" "),t("h3",{attrs:{id:"_1-25-解决canvas浏览器兼容性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-25-解决canvas浏览器兼容性"}},[a._v("#")]),a._v(" 1.25. 解决canvas浏览器兼容性")]),a._v(" "),t("p",[t("code",[a._v("explorecanvas")]),a._v("\n只要多引入这个js包就可以支持了")]),a._v(" "),t("div",{staticClass:"language-html extra-class"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("!--[if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("IE]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("script")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("type")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("text/javascript"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("src")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("../excanvas.js"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),t("span",{pre:!0,attrs:{class:"token script"}}),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("![end")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("if]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),t("h3",{attrs:{id:"_1-26-canvas图像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-26-canvas图像"}},[a._v("#")]),a._v(" 1.26. Canvas图像")]),a._v(" "),t("p",[a._v("图像VS图形<===>位图VS矢量图")]),a._v(" "),t("ul",[t("li",[a._v("图像：是由像素点阵构成的位图")]),a._v(" "),t("li",[a._v("图形：由外部轮廓线条构成的矢量图")])]),a._v(" "),t("h3",{attrs:{id:"_1-27-凸多边形"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-27-凸多边形"}},[a._v("#")]),a._v(" 1.27. 凸多边形")]),a._v(" "),t("p",[a._v("凸多边形（Convex Polygon）指如果把一个多边形的所有边中，任意一条边向两方无限延长成为一直线时，其他各边都在此直线的同旁，")]),a._v(" "),t("ul",[t("li",[a._v("所有的正多边形都是凸多边形。")]),a._v(" "),t("li",[a._v("所有的三角形都是凸多边形。")]),a._v(" "),t("li",[a._v("五角星 => 凹多边形")])]),a._v(" "),t("h3",{attrs:{id:"_1-28-drawimage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-28-drawimage"}},[a._v("#")]),a._v(" 1.28. drawImage")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("context.drawImage(image, dx, dy);")])]),a._v(" "),t("li",[t("code",[a._v("context.drawImage(image, dx, dy, dw, dh);")]),a._v(" "),t("ul",[t("li",[a._v("image 图片")]),a._v(" "),t("li",[a._v("dx dy 坐标")]),a._v(" "),t("li",[a._v("dw dh 要绘制的宽高")])])]),a._v(" "),t("li",[t("code",[a._v("context.drawImage( image, sx, sy, sw, sh, dx, dy, dw, dh);")])])]),a._v(" "),t("img",{attrs:{src:"/imgs/canvas_drawImage.png",height:"300"}}),a._v(" "),t("h3",{attrs:{id:"_1-29-html中添加滑竿控件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-29-html中添加滑竿控件"}},[a._v("#")]),a._v(" 1.29. html中添加滑竿控件")]),a._v(" "),t("div",{staticClass:"language-html extra-class"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("input")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("type")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("range"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("hg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("min")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("0.5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("max")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("3.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("step")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("0.01"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("value")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("1.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n")])])]),t("ul",[t("li",[a._v('min="0.5" 最小缩放为原大小的0.5')]),a._v(" "),t("li",[a._v('max="3.0" 最大缩放原来的三倍')]),a._v(" "),t("li",[a._v('step="0.01"步数0.01')])]),a._v(" "),t("p",[t("code",[a._v("onchange")]),a._v("事件只有在松开鼠标时才会触发，应该用"),t("code",[a._v("onmouseover")])]),a._v(" "),t("h3",{attrs:{id:"_1-30-离屏canvas技术"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-30-离屏canvas技术"}},[a._v("#")]),a._v(" 1.30. 离屏canvas技术")]),a._v(" "),t("p",[a._v("将一个canvas内容加载到另一个canvas上")]),a._v(" "),t("h3",{attrs:{id:"_1-31-获取图像像素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-31-获取图像像素"}},[a._v("#")]),a._v(" 1.31. 获取图像像素")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[a._v("imageData "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("getImageData（x，y，w，h）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("p",[t("code",[a._v("imageData")]),a._v("对象属性：")]),a._v(" "),t("ul",[t("li",[a._v("width")]),a._v(" "),t("li",[a._v("height")]),a._v(" "),t("li",[a._v("data")])]),a._v(" "),t("p",[t("code",[a._v("putImageData")]),a._v("可以将"),t("code",[a._v("ImageData")]),a._v("放回canvas中")]),a._v(" "),t("img",{attrs:{src:"/imgs/canvas_putImageData.png",height:"320"}}),a._v(" "),t("p",[t("code",[a._v("dirtyX")]),a._v("、"),t("code",[a._v("dirtyY")]),a._v("会在dx、dy的基础上累加")]),a._v(" "),t("img",{attrs:{src:"/imgs/canvas_imagedata.png",height:"300"}}),a._v(" "),t("p",[t("code",[a._v("imageData.data")]),a._v("是一个一维数组，每四个数字是一个像素点信息，四个数字分别是rgba四个信息")]),a._v(" "),t("h3",{attrs:{id:"_1-32-滤镜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-32-滤镜"}},[a._v("#")]),a._v(" 1.32. 滤镜")]),a._v(" "),t("ul",[t("li",[a._v("灰色的计算公式 ："),t("code",[a._v("r*0.3 + g*0.59 + b*0.11")])]),a._v(" "),t("li",[a._v("反色滤镜："),t("code",[a._v("rgb")]),a._v("取反")]),a._v(" "),t("li",[a._v("黑白滤镜：获得"),t("code",[a._v("rgb")]),a._v("，得到灰度值，将得到的灰度值分类：或者黑或者白")]),a._v(" "),t("li",[a._v("模糊滤镜，求每个点四周"),t("code",[a._v("3*3")]),a._v("像素点"),t("code",[a._v("rgb")]),a._v("和的平均值\n"),t("ul",[t("li",[a._v("马赛克即将某一个区域全部赋值为该区域的平均值")])])])]),a._v(" "),t("h3",{attrs:{id:"_1-33-通过createimagedata创建一个对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-33-通过createimagedata创建一个对象"}},[a._v("#")]),a._v(" 1.33. 通过"),t("code",[a._v("createImageData")]),a._v("创建一个对象")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" imageData "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("createImageData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("canvas"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("width"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" canvas"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);