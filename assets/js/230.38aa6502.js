(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{503:function(s,a,t){"use strict";t.r(a);var e=t(14),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"pm2-使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pm2-使用"}},[s._v("#")]),s._v(" pm2 使用")]),s._v(" "),a("p",[a("code",[s._v("pm2")]),s._v("是 node 的进程管理工具，利用它可以简化很多 node 应用管理的繁琐任务，如性能监控、自动重启、负载均衡等。")]),s._v(" "),a("p",[s._v("一、安装pm2")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install -g pm2\n")])])]),a("p",[s._v("二、配置pm2自启动")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pm2 startup centos\n")])])]),a("p",[s._v("三、启动"),a("code",[s._v("koa2")]),s._v("项目")]),s._v(" "),a("p",[s._v("在项目根目录执行项目根文件")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pm2 start index.js\n")])])]),a("p",[s._v("四、其他命令")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pm2 list   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看进程")]),s._v("\n\npm2 stop/reload/restart/delete all    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止/重载/重启/删除 所有进程")]),s._v("\n\npm2 stop/reload/restart/delete "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止/重载/重启/删除 pm2进程列表中进程为0的进程")]),s._v("\n\npm2 logs "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--raw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示所有进程的日志")]),s._v("\n\npm2 flush                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#清空所有日志文件")]),s._v("\n\npm2 reloadLogs              "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重载所有日志")]),s._v("\n")])])]),a("p",[a("code",[s._v("pm2")]),s._v("应该全局安装"),a("code",[s._v("-g")]),s._v("，开启"),a("code",[s._v("node")]),s._v("的守护进程，不会阻塞")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("pm2 start app.js\n\npm2 list\n\npm2 stop app\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);