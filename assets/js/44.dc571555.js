(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{347:function(t,s,a){"use strict";a.r(s);var r=a(25),n=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"npm-run-all"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-run-all"}},[t._v("#")]),t._v(" npm-run-all")]),t._v(" "),s("p",[t._v("npm-run-all 提供了多种运行多个命令的方式，常用的有以下几个：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("parallel"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 并行运行多个命令，例如：npm"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("run"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("all "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("parallel lint build\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("serial"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 多个命令按排列顺序执行，例如：npm"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("run"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("all "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("serial clean lint build"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("on"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 是否忽略错误，添加此参数 npm"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("run"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("all 会自动退出出错的命令，继续运行正常的\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("race"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 添加此参数之后，只要有一个命令运行出错，那么 npm"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("run"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("all 就会结束掉全部的命令 \n")])])]),s("p",[t._v("例子：\n"),s("code",[t._v("package.json")]),t._v("中的"),s("code",[t._v("scripts")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clean"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rimraf dist"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint src"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel src -o lib"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("等价于：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm-run-all clean lint build\n")])])]),s("p",[t._v("又如：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"all:install"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"npx npm-run-all --serial install:*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"all:start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"npm-run-all --parallel start:*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"install:main"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cd main-project && npm i"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start:main"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cd main-project && npm start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"install:manage"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cd manage-project && npm i"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start:manage"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cd manage-project && npm start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"install:release"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cd release-project && npm i"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start:release"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cd release-project && npm start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("参考资料：https://github.com/mysticatea/npm-run-all/blob/master/docs/npm-run-all.md")])])}),[],!1,null,null,null);s.default=n.exports}}]);