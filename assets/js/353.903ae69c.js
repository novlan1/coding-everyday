(window.webpackJsonp=window.webpackJsonp||[]).push([[353],{965:function(t,s,e){"use strict";e.r(s);var a=e(42),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("ul",[e("li",[e("a",{attrs:{href:"#%E4%B8%BAvuepress%E6%96%87%E6%A1%A3%E5%A2%9E%E5%8A%A0%E6%BA%90%E4%BB%A3%E7%A0%81%E9%93%BE%E6%8E%A5"}},[t._v("为Vuepress文档增加源代码链接")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"}},[t._v("实现步骤")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0"}},[t._v("具体实现")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E6%95%88%E6%9E%9C"}},[t._v("效果")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E6%B3%A8%E6%84%8F"}},[t._v("注意")])])])])]),t._v(" "),e("h2",{attrs:{id:"为vuepress文档增加源代码链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为vuepress文档增加源代码链接"}},[t._v("#")]),t._v(" 为Vuepress文档增加源代码链接")]),t._v(" "),e("p",[t._v("在用Vuepress制作公共库文档的时候，仅用文字描述和代码示例，用户印象并不深刻。")]),t._v(" "),e("p",[t._v("如果能跳转到源代码文件，就可以节省用户时间，不用自己寻找源代码地址，从而增强文档的可用性。")]),t._v(" "),e("h3",{attrs:{id:"实现步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实现步骤"}},[t._v("#")]),t._v(" 实现步骤")]),t._v(" "),e("p",[t._v("1、实现一个方法，能够提取所有API（函数/类）所在文件和行号")]),t._v(" "),e("p",[t._v("2、在markdwon文件的相应位置插入a标签，指向上面找到的文件链接")]),t._v(" "),e("h3",{attrs:{id:"具体实现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#具体实现"}},[t._v("#")]),t._v(" 具体实现")]),t._v(" "),e("p",[t._v("对于步骤一，可以通过正则匹配的方式，找到所有的function、箭头函数关健词等，进而找到所在行号。我写了一个命令行工具，能够提取这样的对应关系，具体见：https://github.com/novlan1/func-line-cli")]),t._v(" "),e("p",[t._v("对于步骤二，实现如下：")]),t._v(" "),e("p",[t._v("1、先在markdown文件中插入空的a标签占位置")]),t._v(" "),e("p",[t._v("2、然后在Vuepress的enhanceApp.js中，mounted后找到这些a标签，赋予其对应的链接。")]),t._v(" "),e("p",[t._v("我写了一个另一个插件，在.vuepress/enhanceApp.js中使用，具体见：https://github.com/novlan1/v-func-line")]),t._v(" "),e("h3",{attrs:{id:"效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#效果"}},[t._v("#")]),t._v(" 效果")]),t._v(" "),e("p",[t._v("效果见下图，点击下面的source链接，会跳转到对应的git地址：")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://km.oa.com/files/photos/pictures/151/a9f2c33d943e7959f73d60468b8fe_w1634_h1194.png",alt:"img"}})]),t._v(" "),e("p",[e("img",{attrs:{src:"http://km.oa.com/files/photos/pictures/b17/4e96b67efbe926574e923efd1f52d_w1320_h230.png",alt:"img"}})]),t._v(" "),e("h3",{attrs:{id:"注意"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),e("p",[t._v("1、正则匹配的API对应行号有时不够全，所以需要额外的手写的json数据作为补充。")]),t._v(" "),e("p",[t._v("2、如果同一份文档中存在多个git仓库链接，需要自己进行处理，比如将gitLink保留公共部分，差异部分放到"),e("code",[t._v("funcLineMap.json")]),t._v("文件中。")])])}),[],!1,null,null,null);s.default=r.exports}}]);