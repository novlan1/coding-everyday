(window.webpackJsonp=window.webpackJsonp||[]).push([[407],{678:function(t,a,s){"use strict";s.r(a);var n=s(14),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("[toc]")]),t._v(" "),a("h1",{attrs:{id:"_1-样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-样式"}},[t._v("#")]),t._v(" 1. 样式")]),t._v(" "),a("h2",{attrs:{id:"_1-1-fixed弹窗滑动时-下层页面也跟着滑动-穿透问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-fixed弹窗滑动时-下层页面也跟着滑动-穿透问题"}},[t._v("#")]),t._v(" 1.1. fixed弹窗滑动时，下层页面也跟着滑动（穿透问题）")]),t._v(" "),a("p",[t._v("这里"),a("a",{attrs:{href:"http://t.zoukankan.com/zlfProgrammer-p-10750058.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("有篇文章"),a("OutboundLink")],1),t._v("介绍的比较好。")]),t._v(" "),a("p",[t._v("对于uni-app来说，最简单的方法应该是第一种，在弹窗外层元素加上事件"),a("code",[t._v('@touchmove.stop="preventTouchMove"')]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventTouchMove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("如果弹窗内部有滚动元素，则在滚动元素外层用"),a("code",[t._v("scroll-view")]),t._v("包裹。")]),t._v(" "),a("p",[t._v("这个 scroll-view 的子孙元素不能添加 overflow: auto，否则无法滚动。")]),t._v(" "),a("p",[t._v("另外，试了下在"),a("code",[t._v("page-meta")]),t._v("上加上 "),a("code",[t._v("page-style=\"height: 100%; overflow: 'hidden'\"")]),t._v(" 是不生效的。")]),t._v(" "),a("h2",{attrs:{id:"_1-2-安全区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-安全区"}},[t._v("#")]),t._v(" 1.2. 安全区")]),t._v(" "),a("p",[t._v("h5的时候有下面的样式，就是处理ios的刘海屏。")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding-top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constant")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-top"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding-top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-top"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding-left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constant")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding-left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding-right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constant")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-right"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding-right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-right"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* padding-bottom: constant(safe-area-inset-bottom);\n  padding-bottom: env(safe-area-inset-bottom); */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("在小程序中，这段样式需要去掉，否则会在自定义导航栏下面出现一条白框。")]),t._v(" "),a("p",[t._v("在uni-app项目中，只要把上面代码移动到"),a("code",[t._v("index.html")]),t._v("中就可以了，因为只有h5项目才会使用这个"),a("code",[t._v("index.html")]),t._v("文件。")]),t._v(" "),a("h2",{attrs:{id:"_1-3-page-meta"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-page-meta"}},[t._v("#")]),t._v(" 1.3. page-meta")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<page-meta :root-font-size=\"fontsize+'px'\"></page-meta>\n")])])]),a("p",[t._v("page-meta只能是页面内的第一个节点，可以实现rem")]),t._v(" "),a("h2",{attrs:{id:"_1-4-slot问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-slot问题"}},[t._v("#")]),t._v(" 1.4. slot问题")]),t._v(" "),a("p",[t._v("uni-app是支持具名插槽的，有一点需要注意，对于写在slot标签上的类名，h5会下发到slot内部的外层元素上，而小程序则会创建view元素，在这个元素上添加类名。")]),t._v(" "),a("p",[t._v("如果遇到slot的样式异常，可以先排查下这里。")]),t._v(" "),a("p",[t._v("举个例子：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("SomeComp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("extra"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("#middle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      title\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("SomeComp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("SomeComp组件内容如下：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("inner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("middle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("slot")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("middle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("在h5中会被渲染成：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("extra inner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("middle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    title\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("在小程序会被渲染成：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("extra"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("inner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("middle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      title\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("子组件加上下面代码可以解决：")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[t._v("options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  virtualHost"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h2",{attrs:{id:"_1-5-样式隔离"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-样式隔离"}},[t._v("#")]),t._v(" 1.5. 样式隔离")]),t._v(" "),a("p",[t._v("主要涉及 styleIsolation 属性。文档地址"),a("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html#%E7%BB%84%E4%BB%B6%E6%A0%B7%E5%BC%8F%E9%9A%94%E7%A6%BB",target:"_blank",rel:"noopener noreferrer"}},[t._v("在这里"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("styleIsolation 选项支持以下取值：")]),t._v(" "),a("ul",[a("li",[t._v("isolated 表示启用样式隔离，在自定义组件内外，使用 class 指定的样式将不会相互影响（一般情况下的默认值）；")]),t._v(" "),a("li",[t._v("apply-shared 表示页面 wxss 样式将影响到自定义组件，但自定义组件 wxss 中指定的样式不会影响页面；")]),t._v(" "),a("li",[t._v("shared "),a("strong",[t._v("表示页面 wxss 样式将影响到自定义组件，自定义组件 wxss 中指定的样式也会影响页面和其他设置了 apply-shared 或 shared 的自定义组件")]),t._v("。（这个选项在插件中不可用）")])]),t._v(" "),a("h2",{attrs:{id:"_1-6-uni-app在h5端默认开启scoped"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-uni-app在h5端默认开启scoped"}},[t._v("#")]),t._v(" 1.6. uni-app在h5端默认开启scoped")]),t._v(" "),a("p",[t._v("H5端为了隔离页面间的样式默认启用了 scoped，且无法取消")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://uniapp.dcloud.net.cn/matter.html#h5%E6%AD%A3%E5%B8%B8%E4%BD%86app%E5%BC%82%E5%B8%B8%E7%9A%84%E5%8F%AF%E8%83%BD%E6%80%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/qq_34825590/article/details/119412740",target:"_blank",rel:"noopener noreferrer"}},[t._v("相关文章"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"_1-7-不要在-class、style-中使用复杂对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-不要在-class、style-中使用复杂对象"}},[t._v("#")]),t._v(" 1.7. 不要在 class、style 中使用复杂对象")]),t._v(" "),a("p",[t._v("不能在 class、style 中直接使用 函数、data、计算属性 的对象，比如：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":style")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("scheItemStyle[index]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("但是可以这样：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":style")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{ height: scheItemStyle[index].height }"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("也就是使用某个具体的属性（字符串、数字等非引用类型类型），但不能是对象、数组等。")]),t._v(" "),a("p",[t._v("这种也不可以：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("[\n    {'hidden-van-tabs': stageCfgList.length === 1},\n  ]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),a("p",[t._v("这种可以：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("[\n    {'hidden-van-tabs': isOnlyOneStage},\n  ]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),a("hr"),t._v(" "),a("p",[t._v("后面发现用字符串就可以了。")]),t._v(" "),a("p",[t._v("这样会报错")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v(':style="getString(item,index)"\n')])])]),a("p",[t._v("这样就不会")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":style")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("type === 'card'? getString(item,index): getString(item,index)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),a("p",[t._v("可以变通一下，这样也不会报错")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":style")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true ? getString(item,index) : ''"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),a("h2",{attrs:{id:"_1-8-v-if-vs-v-show"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-v-if-vs-v-show"}},[t._v("#")]),t._v(" 1.8. v-if vs v-show")]),t._v(" "),a("p",[t._v("都知道v-show比v-if性能高，但是uni-app不支持v-show，对于dom节点特别大的页面来说，切换tab只能用v-show，v-if太卡。")]),t._v(" "),a("p",[t._v("这时可以用修改动态元素样式来实现，示例如下：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("['double-fail-wrap', `double-fail-wrap-${curTab}`]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("scss"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".double-fail-wrap-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".loser-sche-map")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".double-fail-wrap-2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".winner-sche-map")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"_1-9-css变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-css变量"}},[t._v("#")]),t._v(" 1.9. CSS变量")]),t._v(" "),a("p",[t._v("uni-app 中css变量可以用 page，在h5模式下会自动转成"),a("code",[t._v("uni-page-body")]),t._v("，不能用"),a("code",[t._v(":root")]),t._v("，小程序中不生效，如：")]),t._v(" "),a("div",{staticClass:"language-scss extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scss"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("page ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修改switch的一些变量")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--switch-width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.88rem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--switch-height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.48rem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_1-10-小程序中的-empty问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-10-小程序中的-empty问题"}},[t._v("#")]),t._v(" 1.10. 小程序中的"),a("code",[t._v(":empty")]),t._v("问题")]),t._v(" "),a("p",[t._v("uni-app 小程序 "),a("code",[t._v(":empty")]),t._v("，可能会存在问题，slot 即使父组件不传的情况下，还是会生成 "),a("code",[t._v("<scoped-slots-label />")]),t._v("，导致永远不为空，无法命中 "),a("code",[t._v("empty")]),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"_1-11-样式层级问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-11-样式层级问题"}},[t._v("#")]),t._v(" 1.11. 样式层级问题")]),t._v(" "),a("p",[t._v("有些组件不要加scoped，加了以后，外面的样式很难覆盖里面的。")]),t._v(" "),a("p",[t._v("比如组件内的这个样式")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".press-popover--right.data-v-3fdac1da")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("比组件外的这个样式优先级高。")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".popover-wrap .demo-nav-popover--right")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这块总之很乱，要每个case去看。")]),t._v(" "),a("h2",{attrs:{id:"_1-12-rpx精度丢失"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-12-rpx精度丢失"}},[t._v("#")]),t._v(" 1.12. rpx精度丢失")]),t._v(" "),a("p",[t._v("小程序 rpx 转 px 时会直接去掉小数点，导致赛程树错位，用原生 rem 解决")]),t._v(" "),a("h2",{attrs:{id:"_1-13-自定义组件多节点带来的样式问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-13-自定义组件多节点带来的样式问题"}},[t._v("#")]),t._v(" 1.13. 自定义组件多节点带来的样式问题")]),t._v(" "),a("p",[t._v("自定义组件渲染差异")]),t._v(" "),a("p",[t._v("微信（可以使用"),a("code",[t._v("virtualHost")]),t._v("配置）/QQ/百度/字节跳动这四家小程序，自定义组件在渲染时会比App/H5端多一级节点，在写样式时需要注意：")]),t._v(" "),a("ol",[a("li",[t._v("使用"),a("code",[t._v("flex")]),t._v("布局时，直接给自定义组件的父元素设置为·不能影响到自定义组件内部的根节点，需要设置当前自定义组件为"),a("code",[t._v("display:flex")]),t._v("才可以。")]),t._v(" "),a("li",[t._v("在自定义组件内部设置根元素高度为"),a("code",[t._v("100%")]),t._v("，不能撑满自定义组件父元素。需要同时设置当前自定义组件高度为"),a("code",[t._v("100%")]),t._v("才可以。")])]),t._v(" "),a("p",[t._v("支付宝小程序默认启用了 virtualHost 配置不会插入节点，一般不存在如上问题。")]),t._v(" "),a("p",[t._v("参考："),a("a",{attrs:{href:"https://uniapp.dcloud.net.cn/matter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni-app官网"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"_1-14-条件编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-14-条件编译"}},[t._v("#")]),t._v(" 1.14. 条件编译")]),t._v(" "),a("p",[t._v("样式文件中的条件编译需要用"),a("code",[t._v("/* */")]),t._v("包裹，不能用"),a("code",[t._v("/** */")]),t._v("包裹。")]),t._v(" "),a("p",[t._v("下图左边不生效，右边才生效。")]),t._v(" "),a("img",{attrs:{src:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/6/own_mike_9637fa73dedc6e87b0.png",width:"500"}}),t._v(" "),a("h2",{attrs:{id:"_1-15-样式转化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-15-样式转化"}},[t._v("#")]),t._v(" 1.15. 样式转化")]),t._v(" "),a("p",[t._v("对"),a("code",[t._v("page")]),t._v("设置的样式，在h5中会被转成"),a("code",[t._v("uni-page-body")]),t._v("：")]),t._v(" "),a("img",{attrs:{src:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/6/own_mike_af5205041bba65884d.png",width:"700"}}),t._v(" "),a("p",[t._v("对"),a("code",[t._v("html")]),t._v("和"),a("code",[t._v("body")]),t._v("设置的样式，在小程序中会被转成"),a("code",[t._v("page")]),t._v("：")]),t._v(" "),a("img",{attrs:{src:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/6/own_mike_1018511e52a1f96ed5.png",width:"700"}}),t._v(" "),a("p",[t._v("对于这些容易造成歧义、容易产生误解，理解成本较高的转化样式，建议使用条件编译，只在本平台写本台可识别的样式，减少这种转化。")]),t._v(" "),a("h2",{attrs:{id:"_1-16-多行省略号兼容性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-16-多行省略号兼容性"}},[t._v("#")]),t._v(" 1.16. 多行省略号兼容性")]),t._v(" "),a("p",[t._v("不是"),a("code",[t._v("uni-app")]),t._v("项目独有的问题，这里也记录下。")]),t._v(" "),a("p",[t._v("多行省略号只能支持 "),a("code",[t._v("webkit")]),t._v(" 内核浏览器, IE系就不兼容，所以对于多行省略号是不能用"),a("code",[t._v("stylelint")]),t._v("的默认规则。")]),t._v(" "),a("ul",[a("li",[t._v("溢出隐藏："),a("code",[t._v("overflow: hidden;")])]),t._v(" "),a("li",[t._v("省略号："),a("code",[t._v("text-overflow: ellipsis; display: -webkit-box;")])]),t._v(" "),a("li",[t._v("弹性盒模型：\n设置弹性盒子的子元素的排列方式 ："),a("code",[t._v("-webkit-box-orient: vertical;")]),t._v("\n设置显示文本的行数："),a("code",[t._v("-webkit-line-clamp: 3;")]),t._v(" (最多显示3行)")])]),t._v(" "),a("h2",{attrs:{id:"_1-17-page大部分情况下都应该为overflow-hidden"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-17-page大部分情况下都应该为overflow-hidden"}},[t._v("#")]),t._v(" 1.17. page大部分情况下都应该为overflow:hidden")]),t._v(" "),a("h3",{attrs:{id:"_1-17-1-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-17-1-page"}},[t._v("#")]),t._v(" 1.17.1. page")]),t._v(" "),a("p",[t._v("移动端，不论是h5还是小程序，大部分页面应该设置为"),a("code",[t._v("height: 100%;overflow: hidden;")]),t._v("，这样整个页面才不会跟着滑动，才不会漏出最底层，用户体验才好点。")]),t._v(" "),a("p",[t._v("如果是渐变式导航，则相反，"),a("code",[t._v("page")]),t._v("需要设置为"),a("code",[t._v("height: auto")]),t._v("，这样才会触发"),a("code",[t._v("onPageScroll")]),t._v("事件。此外，想让"),a("code",[t._v("page")]),t._v("滚动，那么"),a("code",[t._v("page")]),t._v("下的第一层的高度要大于一屏才可以，也就是不能在"),a("code",[t._v("demo-wrap")]),t._v("上设置"),a("code",[t._v("height: 100%")]),t._v("，可以给"),a("code",[t._v("height: auto")]),t._v("，或具体的高度。")]),t._v(" "),a("p",[t._v("除了需要"),a("code",[t._v("onPageScroll")]),t._v("事件的，其他都建议"),a("code",[t._v("page")]),t._v("设置为"),a("code",[t._v("overflow: hidden")]),t._v("。")]),t._v(" "),a("p",[t._v("设置"),a("code",[t._v("page")]),t._v("为"),a("code",[t._v("overflow:hidden")]),t._v("还有个好处，不用再给"),a("code",[t._v("page")]),t._v("设置额外的背景色了，反正看不见，只关心页面就行了，没铺满的就铺满即可。")]),t._v(" "),a("h3",{attrs:{id:"_1-17-2-demo-wrap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-17-2-demo-wrap"}},[t._v("#")]),t._v(" 1.17.2. demo-wrap")]),t._v(" "),a("p",[t._v("既然"),a("code",[t._v("page")]),t._v("设置了"),a("code",[t._v("overflow:hidden")]),t._v("，那么"),a("code",[t._v("page")]),t._v("下的第一个元素如果超出了屏幕高度，则需要设置"),a("code",[t._v("overflow: auto;height: 100%;")]),t._v("，否则就会显示不全。")]),t._v(" "),a("p",[t._v("如果不加"),a("code",[t._v("demo-wrap")]),t._v("，则页面在h5下可以滚动，在小程序下不可以滚动。因为h5中"),a("code",[t._v("uni-page-body")]),t._v("设置了"),a("code",[t._v("overflow:auto")]),t._v("，而小程序没有这个中间层。")]),t._v(" "),a("h3",{attrs:{id:"_1-17-3-press-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-17-3-press-ui"}},[t._v("#")]),t._v(" 1.17.3. press-ui")]),t._v(" "),a("p",[t._v("对于"),a("code",[t._v("press-ui")]),t._v("示例项目：")]),t._v(" "),a("ul",[a("li",[t._v("H5中"),a("code",[t._v("html/body")]),t._v("设置了"),a("code",[t._v("height: 100%;overflow:hidden")]),t._v("，"),a("code",[t._v("uni-page-body")]),t._v("设置了"),a("code",[t._v("height: 100%;overflow:auto")])]),t._v(" "),a("li",[t._v("小程序中，"),a("code",[t._v("page")]),t._v("设置了"),a("code",[t._v("height: 100%;overflow:hidden;")]),t._v("，页面顶层需要滚动的"),a("code",[t._v("dom")]),t._v("，加上类名"),a("code",[t._v("demo-wrap")]),t._v("，其样式为"),a("code",[t._v("height: 100%；overflow: auto;")]),t._v("。")])]),t._v(" "),a("p",[t._v("小程序下页面级别的"),a("code",[t._v("vue")]),t._v("文件中，对"),a("code",[t._v("page")]),t._v("的样式设置：")]),t._v(" "),a("ul",[a("li",[t._v("小程序下，不能加"),a("code",[t._v("scoped")]),t._v("，否则无效。")]),t._v(" "),a("li",[t._v("H5下，加了"),a("code",[t._v("scoped")]),t._v("，"),a("code",[t._v("page")]),t._v("转化的"),a("code",[t._v("uni-page-body")]),t._v("样式是生效的。")])]),t._v(" "),a("h2",{attrs:{id:"_1-18-安全区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-18-安全区"}},[t._v("#")]),t._v(" 1.18. 安全区")]),t._v(" "),a("p",[t._v("什么时候需要适配安全区呢，底部是"),a("code",[t._v("tabbar")]),t._v("、购买按钮、输入框等不随页面滚动的元素。")]),t._v(" "),a("h2",{attrs:{id:"_1-19-页面样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-19-页面样式"}},[t._v("#")]),t._v(" 1.19. 页面样式")]),t._v(" "),a("p",[t._v("归类，页面一定要有统一的包裹层"),a("code",[t._v("class")]),t._v("。好处是方便维护。")]),t._v(" "),a("h2",{attrs:{id:"_1-20-动态class"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-20-动态class"}},[t._v("#")]),t._v(" 1.20. 动态class")]),t._v(" "),a("p",[t._v("小程序不支持这个")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v('  :class="`tip-match-schedule-tab-item--scroll-${col - scrollTime}`"\n')])])]),a("p",[t._v("但是支持这个")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v('  :class="[`tip-match-schedule-tab-item--scroll-${col - scrollTime}`]"\n')])])]),a("h1",{attrs:{id:"_2-vant"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-vant"}},[t._v("#")]),t._v(" 2. vant")]),t._v(" "),a("h2",{attrs:{id:"_2-1-van-tab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-van-tab"}},[t._v("#")]),t._v(" 2.1. van-tab")]),t._v(" "),a("h3",{attrs:{id:"_2-1-1-change事件参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-change事件参数"}},[t._v("#")]),t._v(" 2.1.1. change事件参数")]),t._v(" "),a("p",[t._v("uni-app中 vant-tab 的change事件暴露参数为event，需适配")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("curTab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"_2-1-2-v-model无效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-v-model无效"}},[t._v("#")]),t._v(" 2.1.2. v-model无效")]),t._v(" "),a("p",[t._v("uni-app 中 van-tab 使用 v-model 无效，会被转为，所以必须要想拿到改变后的tab，要写change事件，因为 van-weapp 默认更新的是 active 属性。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("van-tabs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("active")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{ active }}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bind:")]),t._v("change")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("onChange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("van-tabs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    active"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onChange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("showToast")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      title"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("切换到标签 ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      icon"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"_2-1-3-性能问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-性能问题"}},[t._v("#")]),t._v(" 2.1.3. 性能问题")]),t._v(" "),a("p",[a("code",[t._v("tabMap[curTab]")]),t._v("不要写在 template 中，否则切换 tab 时会有延迟，也不要写在 computed 中，最好不依赖 curTab。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 存在问题 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Comp")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":list")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("tabMap[curTab]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 不推荐 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Comp")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":list")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("curList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\ncomputed: {\n  curList() {\n    const { tabMap, curTab } = this;\n    return tabMap[curTab]\n  }\n}\n")])])]),a("p",[t._v("更好的方式是不依赖curTab")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v(':sche-list="stageScheMap[index]"\n')])])])])}),[],!1,null,null,null);a.default=e.exports}}]);