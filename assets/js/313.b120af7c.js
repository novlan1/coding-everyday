(window.webpackJsonp=window.webpackJsonp||[]).push([[313],{923:function(n,o,e){"use strict";e.r(o);var a=e(42),t=Object(a.a)({},(function(){var n=this,o=n.$createElement,e=n._self._c||o;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h2",{attrs:{id:"js监听浏览器离开页面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#js监听浏览器离开页面"}},[n._v("#")]),n._v(" JS监听浏览器离开页面")]),n._v(" "),e("p",[e("strong",[n._v("onunload，onbeforeunload")]),n._v("都是在刷新或关闭时调用，可以在"),e("code",[n._v("<script>")]),n._v("脚本中通过window.onunload来指定或者在"),e("code",[n._v("<body>")]),n._v("里指定。")]),n._v(" "),e("p",[n._v("区别：")]),n._v(" "),e("ul",[e("li",[e("p",[e("strong",[n._v("onbeforeunload在onunload之前执行，它还可以阻止onunload的执行")]),n._v("。")])]),n._v(" "),e("li",[e("p",[e("strong",[n._v("onbeforeunload是正要去服务器读取新的页面时调用，此时还没开始读取")]),n._v("；而"),e("strong",[n._v("onunload则已经从服务器上读到了需要加载的新的页面")]),n._v("，在即将替换掉当前页面时调用。")])]),n._v(" "),e("li",[e("p",[e("strong",[n._v("onunload是无法阻止页面的更新和关闭的，而 onbeforeunload 可以做到")]),n._v("。")])]),n._v(" "),e("li",[e("p",[n._v("页面加载时只执行onload")])]),n._v(" "),e("li",[e("p",[n._v("页面关闭时先执行onbeforeunload，最后onunload")])]),n._v(" "),e("li",[e("p",[e("strong",[n._v("页面刷新时先执行onbeforeunload，然后onunload，最后onload")])])])]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('window.onbeforeunload=function(e){     \n　　var e = window.event||e;  \n　　e.returnValue=("确定离开当前页面吗？");\n} \n')])])])])}),[],!1,null,null,null);o.default=t.exports}}]);