- [1. UDP](#1-udp)
  - [1.1. 不可靠性](#11-不可靠性)
  - [1.2. 高效性](#12-高效性)
  - [1.3. 传输方式](#13-传输方式)

## 1. UDP

UDP（`User Datagram Protocol`），又叫用户数据报协议。 UDP 是一个无连接的、不可靠、基于数据报的传输协议。UDP 只是报文（报文可以理解为一段段的数据）的搬运工，不会对报文进行任何拆分和拼装操作。

具体来说

- 在发送端，应用层将数据传递给传输层，UDP 只会给数据怎加一个 UDP 头标识一下这是 UDP，然后就传递给网络层了，不进行任何拆分。
- 在接收端，网络层将数据传递给传输层，UDP 只取出 IP 报文头就传递给应用层，不进行任何拼装。

特点：

- 面向报文
- 不可靠传输
- 高效

应用场景： 当强调输出性能而非完整性时，如音频和多媒体的实时传输。有个视频流传输协议 RTP 的实时传输就是基于 UDP 封装而来的。

### 1.1. 不可靠性

1. UDP 是**无连接**的，也就是说同学不需要建立和断开链接。
2. UDP 是**不可靠的**。它不会去备份数据，也不关心对方是否能收到数据。
3. UDP**没有拥塞控制**，一直以恒定的速度发送数据，即使网络条件不好，也不进行速率调整。 造成的弊端就是在网络条件不好时可能导致丢包。

### 1.2. 高效性

因为 UDP 没有 TCP 那么复杂，不需要保证数据不丢失且有序到达。所以 UDP 的头部开销小，只有八字节，相比 TCP 的至少二十字节要少得多，在传输数据报文时是很高效的。

UDP 包头部包含了以下几个数据

- 两个十六位的端口号，分别为源端口（可选字段）和目标端口
- 整个数据报文的长度
- 整个数据报文的**检验和**（IPv4 可选 字段），该字段用于发现头部信息和数据中的错误

![UDP Header](/imgs/UDP_header.png)
![UDP Header](/imgs/udp_header2.png)

### 1.3. 传输方式

支持一对一，一对多，多对多，多对一的方式，也就是说 UDP 提供了单播，多播，广播的功能。